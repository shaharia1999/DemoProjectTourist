{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = StepThree;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Column = _interopRequireDefault(require(\"../../Column\"));\n\nvar _getAssignFieldsData = _interopRequireDefault(require(\"../helpers/getAssignFieldsData\"));\n\nvar _modifyCell = _interopRequireDefault(require(\"./modifyCell\"));\n\nvar _fileFieldCell = _interopRequireDefault(require(\"./fileFieldCell\"));\n\nvar _databaseFieldCell = _interopRequireDefault(require(\"./databaseFieldCell\"));\n\nvar _assignFieldModal = _interopRequireDefault(require(\"./assignFieldModal\"));\n\nvar _table = _interopRequireDefault(require(\"../styled/table\"));\n\nfunction StepThree(props) {\n  var attributes = props.attributes,\n      columns = props.columns,\n      onAssignField = props.onAssignField,\n      fieldsMap = props.fieldsMap,\n      data = props.data,\n      matchField = props.matchField;\n  var previewData = data.slice(0, 3);\n\n  var _useState = (0, _react.useState)([]),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      assignData = _useState2[0],\n      setAssignData = _useState2[1];\n\n  (0, _react.useEffect)(function () {\n    setAssignData((0, _getAssignFieldsData[\"default\"])({\n      fieldsMap: fieldsMap,\n      attributes: attributes,\n      matchField: matchField\n    }));\n  }, [fieldsMap, attributes, matchField]);\n\n  var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n      isAssignFieldModalOpen = _useState4[0],\n      setAssignFieldModalState = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(''),\n      _useState6 = (0, _slicedToArray2[\"default\"])(_useState5, 2),\n      databaseFieldToAssign = _useState6[0],\n      setDatabaseFieldToAssign = _useState6[1];\n\n  var openAssignFieldModal = function openAssignFieldModal(field) {\n    setAssignFieldModalState(true);\n    setDatabaseFieldToAssign(field);\n  };\n\n  var closeAssignFieldModal = function closeAssignFieldModal() {\n    setAssignFieldModalState(false);\n  };\n\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_table[\"default\"], {\n    keyField: \"id\",\n    data: assignData\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Column[\"default\"], {\n    header: \"Modify\",\n    field: \"fileField\",\n    component: function component(rowProps) {\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        _react[\"default\"].createElement(_modifyCell[\"default\"], (0, _extends2[\"default\"])({}, rowProps, {\n          onClick: openAssignFieldModal\n        }))\n      );\n    }\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Column[\"default\"], {\n    header: \"CSV titles\",\n    field: \"fileField\",\n    component: _fileFieldCell[\"default\"]\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Column[\"default\"], {\n    header: \"Database fields\",\n    field: \"databaseField\",\n    component: _databaseFieldCell[\"default\"]\n  })), /*#__PURE__*/_react[\"default\"].createElement(_assignFieldModal[\"default\"], {\n    attributes: attributes,\n    isAssignFieldModalOpen: isAssignFieldModalOpen,\n    onRequestClose: closeAssignFieldModal,\n    columns: columns,\n    databaseFieldToAssign: databaseFieldToAssign,\n    onAssignField: onAssignField,\n    fieldsMap: fieldsMap,\n    data: previewData\n  }));\n}\n\nStepThree.propTypes = {\n  onAssignField: _propTypes[\"default\"].func,\n  fieldsMap: _propTypes[\"default\"].object,\n  data: _propTypes[\"default\"].array,\n  attributes: _propTypes[\"default\"].object,\n  matchField: _propTypes[\"default\"].string,\n  columns: _propTypes[\"default\"].array\n};\nStepThree.defaultProps = {\n  onAssignField: function onAssignField() {},\n  fieldsMap: {},\n  data: [],\n  attributes: {},\n  matchField: '',\n  columns: []\n};","map":{"version":3,"sources":["F:/PorzotokFrontend/node_modules/react-rainbow-components/components/ImportRecordsFlow/stepThree/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","StepThree","_extends2","_slicedToArray2","_react","_propTypes","_Column","_getAssignFieldsData","_modifyCell","_fileFieldCell","_databaseFieldCell","_assignFieldModal","_table","props","attributes","columns","onAssignField","fieldsMap","data","matchField","previewData","slice","_useState","useState","_useState2","assignData","setAssignData","useEffect","_useState3","_useState4","isAssignFieldModalOpen","setAssignFieldModalState","_useState5","_useState6","databaseFieldToAssign","setDatabaseFieldToAssign","openAssignFieldModal","field","closeAssignFieldModal","createElement","keyField","header","component","rowProps","onClick","onRequestClose","propTypes","func","object","array","string","defaultProps"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports[\"default\"] = StepThree;\r\n\r\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\r\n\r\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\r\n\r\nvar _react = _interopRequireWildcard(require(\"react\"));\r\n\r\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\r\n\r\nvar _Column = _interopRequireDefault(require(\"../../Column\"));\r\n\r\nvar _getAssignFieldsData = _interopRequireDefault(require(\"../helpers/getAssignFieldsData\"));\r\n\r\nvar _modifyCell = _interopRequireDefault(require(\"./modifyCell\"));\r\n\r\nvar _fileFieldCell = _interopRequireDefault(require(\"./fileFieldCell\"));\r\n\r\nvar _databaseFieldCell = _interopRequireDefault(require(\"./databaseFieldCell\"));\r\n\r\nvar _assignFieldModal = _interopRequireDefault(require(\"./assignFieldModal\"));\r\n\r\nvar _table = _interopRequireDefault(require(\"../styled/table\"));\r\n\r\nfunction StepThree(props) {\r\n  var attributes = props.attributes,\r\n      columns = props.columns,\r\n      onAssignField = props.onAssignField,\r\n      fieldsMap = props.fieldsMap,\r\n      data = props.data,\r\n      matchField = props.matchField;\r\n  var previewData = data.slice(0, 3);\r\n\r\n  var _useState = (0, _react.useState)([]),\r\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\r\n      assignData = _useState2[0],\r\n      setAssignData = _useState2[1];\r\n\r\n  (0, _react.useEffect)(function () {\r\n    setAssignData((0, _getAssignFieldsData[\"default\"])({\r\n      fieldsMap: fieldsMap,\r\n      attributes: attributes,\r\n      matchField: matchField\r\n    }));\r\n  }, [fieldsMap, attributes, matchField]);\r\n\r\n  var _useState3 = (0, _react.useState)(false),\r\n      _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\r\n      isAssignFieldModalOpen = _useState4[0],\r\n      setAssignFieldModalState = _useState4[1];\r\n\r\n  var _useState5 = (0, _react.useState)(''),\r\n      _useState6 = (0, _slicedToArray2[\"default\"])(_useState5, 2),\r\n      databaseFieldToAssign = _useState6[0],\r\n      setDatabaseFieldToAssign = _useState6[1];\r\n\r\n  var openAssignFieldModal = function openAssignFieldModal(field) {\r\n    setAssignFieldModalState(true);\r\n    setDatabaseFieldToAssign(field);\r\n  };\r\n\r\n  var closeAssignFieldModal = function closeAssignFieldModal() {\r\n    setAssignFieldModalState(false);\r\n  };\r\n\r\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_table[\"default\"], {\r\n    keyField: \"id\",\r\n    data: assignData\r\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Column[\"default\"], {\r\n    header: \"Modify\",\r\n    field: \"fileField\",\r\n    component: function component(rowProps) {\r\n      return (\r\n        /*#__PURE__*/\r\n        // eslint-disable-next-line react/jsx-props-no-spreading\r\n        _react[\"default\"].createElement(_modifyCell[\"default\"], (0, _extends2[\"default\"])({}, rowProps, {\r\n          onClick: openAssignFieldModal\r\n        }))\r\n      );\r\n    }\r\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Column[\"default\"], {\r\n    header: \"CSV titles\",\r\n    field: \"fileField\",\r\n    component: _fileFieldCell[\"default\"]\r\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Column[\"default\"], {\r\n    header: \"Database fields\",\r\n    field: \"databaseField\",\r\n    component: _databaseFieldCell[\"default\"]\r\n  })), /*#__PURE__*/_react[\"default\"].createElement(_assignFieldModal[\"default\"], {\r\n    attributes: attributes,\r\n    isAssignFieldModalOpen: isAssignFieldModalOpen,\r\n    onRequestClose: closeAssignFieldModal,\r\n    columns: columns,\r\n    databaseFieldToAssign: databaseFieldToAssign,\r\n    onAssignField: onAssignField,\r\n    fieldsMap: fieldsMap,\r\n    data: previewData\r\n  }));\r\n}\r\n\r\nStepThree.propTypes = {\r\n  onAssignField: _propTypes[\"default\"].func,\r\n  fieldsMap: _propTypes[\"default\"].object,\r\n  data: _propTypes[\"default\"].array,\r\n  attributes: _propTypes[\"default\"].object,\r\n  matchField: _propTypes[\"default\"].string,\r\n  columns: _propTypes[\"default\"].array\r\n};\r\nStepThree.defaultProps = {\r\n  onAssignField: function onAssignField() {},\r\n  fieldsMap: {},\r\n  data: [],\r\n  attributes: {},\r\n  matchField: '',\r\n  columns: []\r\n};"]},"metadata":{},"sourceType":"script"}