{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = Drawer;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _constants = require(\"../../libs/constants\");\n\nvar _scrollController = require(\"../../libs/scrollController\");\n\nvar _counterManager = _interopRequireDefault(require(\"../../libs/counterManager\"));\n\nvar _manageTab = _interopRequireDefault(require(\"../../libs/manageTab\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _backDrop = _interopRequireDefault(require(\"./styled/backDrop\"));\n\nvar _container = _interopRequireDefault(require(\"./styled/container\"));\n\nvar _content = _interopRequireDefault(require(\"./styled/content\"));\n\nvar _closeButton = _interopRequireDefault(require(\"./styled/closeButton\"));\n\nvar _divider = _interopRequireDefault(require(\"./styled/divider\"));\n\nvar _footer = _interopRequireDefault(require(\"./styled/footer\"));\n\nvar _header = _interopRequireDefault(require(\"./header\"));\n\nvar _closeIcon = _interopRequireDefault(require(\"./closeIcon\"));\n\nvar _hooks = require(\"../../libs/hooks\");\n\nvar _getSlideFrom = _interopRequireDefault(require(\"./helpers/getSlideFrom\"));\n\nvar DrawerState = {\n  OPENING: 0,\n  OPENED: 1,\n  CLOSING: 2,\n  CLOSED: 3\n};\n/**\n * Drawers are surfaces containing supplementary content on your app.\n * @category Layout\n * */\n\nfunction Drawer(props) {\n  var id = props.id,\n      isOpen = props.isOpen,\n      hideCloseButton = props.hideCloseButton,\n      onRequestClose = props.onRequestClose,\n      onOpened = props.onOpened,\n      header = props.header,\n      footer = props.footer,\n      size = props.size,\n      slideFrom = props.slideFrom,\n      children = props.children,\n      className = props.className,\n      style = props.style;\n  var headerId = (0, _hooks.useUniqueIdentifier)('drawer-header');\n  var contentId = (0, _hooks.useUniqueIdentifier)('drawer-content');\n  var triggerRef = (0, _react.useRef)(null);\n  var drawerRef = (0, _react.useRef)(null);\n  var containerRef = (0, _react.useRef)(null);\n  var contentRef = (0, _react.useRef)(null);\n\n  var _useState = (0, _react.useState)(isOpen ? DrawerState.OPENED : DrawerState.CLOSED),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      drawerState = _useState2[0],\n      setDrawerState = _useState2[1];\n\n  (0, _react.useEffect)(function () {\n    var contentElement = contentRef.current;\n\n    if (isOpen) {\n      _counterManager[\"default\"].increment();\n\n      (0, _scrollController.disableBodyScroll)(contentElement);\n      triggerRef.current = document.activeElement;\n      setDrawerState(DrawerState.OPENING);\n    }\n\n    return function () {\n      if (isOpen) {\n        _counterManager[\"default\"].decrement();\n\n        if (triggerRef.current) triggerRef.current.focus();\n\n        if (!_counterManager[\"default\"].hasModalsOpen()) {\n          (0, _scrollController.enableBodyScroll)(contentElement);\n        }\n\n        (0, _scrollController.clearAllBodyScrollLocks)();\n        setDrawerState(DrawerState.CLOSING);\n      }\n    };\n  }, [isOpen]);\n  (0, _react.useEffect)(function () {\n    if (isOpen && drawerState === DrawerState.OPENED) {\n      drawerRef.current.focus();\n      onOpened();\n    }\n  }, [drawerState, isOpen, onOpened]);\n\n  var onSlideEnd = function onSlideEnd() {\n    if (drawerState === DrawerState.OPENING) {\n      setDrawerState(DrawerState.OPENED);\n    } else if (drawerState === DrawerState.CLOSING) {\n      setDrawerState(DrawerState.CLOSED);\n    }\n  };\n\n  var closeDrawer = function closeDrawer() {\n    return onRequestClose();\n  };\n\n  var handleBackDropClick = (0, _react.useCallback)(function (event) {\n    if (drawerRef.current.contains(event.target)) {\n      return null;\n    }\n\n    return closeDrawer(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  (0, _react.useEffect)(function () {\n    var node = containerRef.current;\n\n    if (drawerState === 1) {\n      node.addEventListener('click', handleBackDropClick);\n    }\n\n    return function () {\n      if (node) {\n        node.removeEventListener('click', handleBackDropClick);\n      }\n    };\n  }, [drawerState, handleBackDropClick]);\n\n  var handleKeyPressed = function handleKeyPressed(event) {\n    event.stopPropagation();\n\n    if (isOpen && event.keyCode === _constants.ESCAPE_KEY && containerRef.current.contains(event.target)) {\n      closeDrawer();\n    }\n\n    if (event.keyCode === _constants.TAB_KEY) {\n      (0, _manageTab[\"default\"])(drawerRef.current, event);\n    }\n\n    return null;\n  };\n\n  var drawerIsOpen = [DrawerState.OPENING, DrawerState.OPENED].includes(drawerState);\n\n  if (drawerState !== null && drawerState !== DrawerState.CLOSED) {\n    return /*#__PURE__*/(0, _reactDom.createPortal)( /*#__PURE__*/_react[\"default\"].createElement(_backDrop[\"default\"], {\n      id: id,\n      role: \"presentation\",\n      ref: containerRef,\n      onKeyDown: handleKeyPressed\n    }, /*#__PURE__*/_react[\"default\"].createElement(_container[\"default\"], {\n      role: \"dialog\",\n      tabIndex: -1,\n      \"aria-labelledby\": headerId,\n      \"aria-modal\": true,\n      \"aria-hidden\": !drawerIsOpen,\n      \"aria-describedby\": contentId,\n      className: className,\n      isOpen: drawerIsOpen,\n      style: style,\n      size: size,\n      slideFrom: (0, _getSlideFrom[\"default\"])(slideFrom, 'left'),\n      ref: drawerRef,\n      onAnimationEnd: onSlideEnd\n    }, /*#__PURE__*/_react[\"default\"].createElement(_header[\"default\"], {\n      id: headerId,\n      content: header\n    }), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n      isTrue: !hideCloseButton\n    }, /*#__PURE__*/_react[\"default\"].createElement(_closeButton[\"default\"], {\n      id: \"drawer-close-button\",\n      icon: /*#__PURE__*/_react[\"default\"].createElement(_closeIcon[\"default\"], null),\n      title: \"Hide\",\n      onClick: closeDrawer\n    })), /*#__PURE__*/_react[\"default\"].createElement(_content[\"default\"], {\n      id: contentId,\n      ref: contentRef\n    }, children), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n      isTrue: footer\n    }, /*#__PURE__*/_react[\"default\"].createElement(_divider[\"default\"], null), /*#__PURE__*/_react[\"default\"].createElement(_footer[\"default\"], null, footer)))), document.body);\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null);\n}\n\nDrawer.propTypes = {\n  /** The header can include text or another component,\n   * and is displayed at the top of the component. */\n  header: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** The size of the drawer. Valid values are small, medium, large and full.\n   * This value defaults to small. */\n  size: _propTypes[\"default\"].oneOf(['small', 'medium', 'large', 'full']),\n\n  /** The footer can include text or another component\n   * and is displayed at the bottom of the component. */\n  footer: _propTypes[\"default\"].node,\n\n  /** Controls whether the Drawer is opened or not. If true, the drawer is opened. */\n  isOpen: _propTypes[\"default\"].bool,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /** The action triggered when the component requested to close\n   * (e.g click hide button, press esc key or click outside the drawer). */\n  onRequestClose: _propTypes[\"default\"].func,\n\n  /** A callback triggered when the drawer is opened. This is usefull for example to set focus\n   * to an element inside the drawer's content after it is opened. */\n  onOpened: _propTypes[\"default\"].func,\n\n  /** The id of the outer element. */\n  id: _propTypes[\"default\"].string,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  children: _propTypes[\"default\"].node,\n\n  /** If true, hide the close button in the drawer. */\n  hideCloseButton: _propTypes[\"default\"].bool,\n\n  /** The position from where the drawer is opened. */\n  slideFrom: _propTypes[\"default\"].oneOf(['left', 'right'])\n};\nDrawer.defaultProps = {\n  isOpen: false,\n  header: null,\n  size: 'small',\n  footer: null,\n  className: undefined,\n  style: undefined,\n  children: null,\n  id: undefined,\n  onRequestClose: function onRequestClose() {},\n  onOpened: function onOpened() {},\n  hideCloseButton: false,\n  slideFrom: 'left'\n};","map":{"version":3,"sources":["D:/PorzotokFrontend/node_modules/react-rainbow-components/components/Drawer/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","Drawer","_slicedToArray2","_react","_propTypes","_reactDom","_constants","_scrollController","_counterManager","_manageTab","_RenderIf","_backDrop","_container","_content","_closeButton","_divider","_footer","_header","_closeIcon","_hooks","_getSlideFrom","DrawerState","OPENING","OPENED","CLOSING","CLOSED","props","id","isOpen","hideCloseButton","onRequestClose","onOpened","header","footer","size","slideFrom","children","className","style","headerId","useUniqueIdentifier","contentId","triggerRef","useRef","drawerRef","containerRef","contentRef","_useState","useState","_useState2","drawerState","setDrawerState","useEffect","contentElement","current","increment","disableBodyScroll","document","activeElement","decrement","focus","hasModalsOpen","enableBodyScroll","clearAllBodyScrollLocks","onSlideEnd","closeDrawer","handleBackDropClick","useCallback","event","contains","target","node","addEventListener","removeEventListener","handleKeyPressed","stopPropagation","keyCode","ESCAPE_KEY","TAB_KEY","drawerIsOpen","includes","createPortal","createElement","role","ref","onKeyDown","tabIndex","onAnimationEnd","content","isTrue","icon","title","onClick","body","Fragment","propTypes","oneOfType","string","oneOf","bool","object","func","defaultProps","undefined"],"mappings":"AAAA;;AAEA,IAAIA,uBAAuB,GAAGC,OAAO,CAAC,+CAAD,CAArC;;AAEA,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8CAAD,CAApC;;AAEAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAAC,SAAD,CAAP,GAAqBE,MAArB;;AAEA,IAAIC,eAAe,GAAGN,sBAAsB,CAACD,OAAO,CAAC,sCAAD,CAAR,CAA5C;;AAEA,IAAIQ,MAAM,GAAGT,uBAAuB,CAACC,OAAO,CAAC,OAAD,CAAR,CAApC;;AAEA,IAAIS,UAAU,GAAGR,sBAAsB,CAACD,OAAO,CAAC,YAAD,CAAR,CAAvC;;AAEA,IAAIU,SAAS,GAAGV,OAAO,CAAC,WAAD,CAAvB;;AAEA,IAAIW,UAAU,GAAGX,OAAO,CAAC,sBAAD,CAAxB;;AAEA,IAAIY,iBAAiB,GAAGZ,OAAO,CAAC,6BAAD,CAA/B;;AAEA,IAAIa,eAAe,GAAGZ,sBAAsB,CAACD,OAAO,CAAC,2BAAD,CAAR,CAA5C;;AAEA,IAAIc,UAAU,GAAGb,sBAAsB,CAACD,OAAO,CAAC,sBAAD,CAAR,CAAvC;;AAEA,IAAIe,SAAS,GAAGd,sBAAsB,CAACD,OAAO,CAAC,aAAD,CAAR,CAAtC;;AAEA,IAAIgB,SAAS,GAAGf,sBAAsB,CAACD,OAAO,CAAC,mBAAD,CAAR,CAAtC;;AAEA,IAAIiB,UAAU,GAAGhB,sBAAsB,CAACD,OAAO,CAAC,oBAAD,CAAR,CAAvC;;AAEA,IAAIkB,QAAQ,GAAGjB,sBAAsB,CAACD,OAAO,CAAC,kBAAD,CAAR,CAArC;;AAEA,IAAImB,YAAY,GAAGlB,sBAAsB,CAACD,OAAO,CAAC,sBAAD,CAAR,CAAzC;;AAEA,IAAIoB,QAAQ,GAAGnB,sBAAsB,CAACD,OAAO,CAAC,kBAAD,CAAR,CAArC;;AAEA,IAAIqB,OAAO,GAAGpB,sBAAsB,CAACD,OAAO,CAAC,iBAAD,CAAR,CAApC;;AAEA,IAAIsB,OAAO,GAAGrB,sBAAsB,CAACD,OAAO,CAAC,UAAD,CAAR,CAApC;;AAEA,IAAIuB,UAAU,GAAGtB,sBAAsB,CAACD,OAAO,CAAC,aAAD,CAAR,CAAvC;;AAEA,IAAIwB,MAAM,GAAGxB,OAAO,CAAC,kBAAD,CAApB;;AAEA,IAAIyB,aAAa,GAAGxB,sBAAsB,CAACD,OAAO,CAAC,wBAAD,CAAR,CAA1C;;AAEA,IAAI0B,WAAW,GAAG;AAChBC,EAAAA,OAAO,EAAE,CADO;AAEhBC,EAAAA,MAAM,EAAE,CAFQ;AAGhBC,EAAAA,OAAO,EAAE,CAHO;AAIhBC,EAAAA,MAAM,EAAE;AAJQ,CAAlB;AAMA;AACA;AACA;AACA;;AAEA,SAASxB,MAAT,CAAgByB,KAAhB,EAAuB;AACrB,MAAIC,EAAE,GAAGD,KAAK,CAACC,EAAf;AAAA,MACIC,MAAM,GAAGF,KAAK,CAACE,MADnB;AAAA,MAEIC,eAAe,GAAGH,KAAK,CAACG,eAF5B;AAAA,MAGIC,cAAc,GAAGJ,KAAK,CAACI,cAH3B;AAAA,MAIIC,QAAQ,GAAGL,KAAK,CAACK,QAJrB;AAAA,MAKIC,MAAM,GAAGN,KAAK,CAACM,MALnB;AAAA,MAMIC,MAAM,GAAGP,KAAK,CAACO,MANnB;AAAA,MAOIC,IAAI,GAAGR,KAAK,CAACQ,IAPjB;AAAA,MAQIC,SAAS,GAAGT,KAAK,CAACS,SARtB;AAAA,MASIC,QAAQ,GAAGV,KAAK,CAACU,QATrB;AAAA,MAUIC,SAAS,GAAGX,KAAK,CAACW,SAVtB;AAAA,MAWIC,KAAK,GAAGZ,KAAK,CAACY,KAXlB;AAYA,MAAIC,QAAQ,GAAG,CAAC,GAAGpB,MAAM,CAACqB,mBAAX,EAAgC,eAAhC,CAAf;AACA,MAAIC,SAAS,GAAG,CAAC,GAAGtB,MAAM,CAACqB,mBAAX,EAAgC,gBAAhC,CAAhB;AACA,MAAIE,UAAU,GAAG,CAAC,GAAGvC,MAAM,CAACwC,MAAX,EAAmB,IAAnB,CAAjB;AACA,MAAIC,SAAS,GAAG,CAAC,GAAGzC,MAAM,CAACwC,MAAX,EAAmB,IAAnB,CAAhB;AACA,MAAIE,YAAY,GAAG,CAAC,GAAG1C,MAAM,CAACwC,MAAX,EAAmB,IAAnB,CAAnB;AACA,MAAIG,UAAU,GAAG,CAAC,GAAG3C,MAAM,CAACwC,MAAX,EAAmB,IAAnB,CAAjB;;AAEA,MAAII,SAAS,GAAG,CAAC,GAAG5C,MAAM,CAAC6C,QAAX,EAAqBpB,MAAM,GAAGP,WAAW,CAACE,MAAf,GAAwBF,WAAW,CAACI,MAA/D,CAAhB;AAAA,MACIwB,UAAU,GAAG,CAAC,GAAG/C,eAAe,CAAC,SAAD,CAAnB,EAAgC6C,SAAhC,EAA2C,CAA3C,CADjB;AAAA,MAEIG,WAAW,GAAGD,UAAU,CAAC,CAAD,CAF5B;AAAA,MAGIE,cAAc,GAAGF,UAAU,CAAC,CAAD,CAH/B;;AAKA,GAAC,GAAG9C,MAAM,CAACiD,SAAX,EAAsB,YAAY;AAChC,QAAIC,cAAc,GAAGP,UAAU,CAACQ,OAAhC;;AAEA,QAAI1B,MAAJ,EAAY;AACVpB,MAAAA,eAAe,CAAC,SAAD,CAAf,CAA2B+C,SAA3B;;AAEA,OAAC,GAAGhD,iBAAiB,CAACiD,iBAAtB,EAAyCH,cAAzC;AACAX,MAAAA,UAAU,CAACY,OAAX,GAAqBG,QAAQ,CAACC,aAA9B;AACAP,MAAAA,cAAc,CAAC9B,WAAW,CAACC,OAAb,CAAd;AACD;;AAED,WAAO,YAAY;AACjB,UAAIM,MAAJ,EAAY;AACVpB,QAAAA,eAAe,CAAC,SAAD,CAAf,CAA2BmD,SAA3B;;AAEA,YAAIjB,UAAU,CAACY,OAAf,EAAwBZ,UAAU,CAACY,OAAX,CAAmBM,KAAnB;;AAExB,YAAI,CAACpD,eAAe,CAAC,SAAD,CAAf,CAA2BqD,aAA3B,EAAL,EAAiD;AAC/C,WAAC,GAAGtD,iBAAiB,CAACuD,gBAAtB,EAAwCT,cAAxC;AACD;;AAED,SAAC,GAAG9C,iBAAiB,CAACwD,uBAAtB;AACAZ,QAAAA,cAAc,CAAC9B,WAAW,CAACG,OAAb,CAAd;AACD;AACF,KAbD;AAcD,GAzBD,EAyBG,CAACI,MAAD,CAzBH;AA0BA,GAAC,GAAGzB,MAAM,CAACiD,SAAX,EAAsB,YAAY;AAChC,QAAIxB,MAAM,IAAIsB,WAAW,KAAK7B,WAAW,CAACE,MAA1C,EAAkD;AAChDqB,MAAAA,SAAS,CAACU,OAAV,CAAkBM,KAAlB;AACA7B,MAAAA,QAAQ;AACT;AACF,GALD,EAKG,CAACmB,WAAD,EAActB,MAAd,EAAsBG,QAAtB,CALH;;AAOA,MAAIiC,UAAU,GAAG,SAASA,UAAT,GAAsB;AACrC,QAAId,WAAW,KAAK7B,WAAW,CAACC,OAAhC,EAAyC;AACvC6B,MAAAA,cAAc,CAAC9B,WAAW,CAACE,MAAb,CAAd;AACD,KAFD,MAEO,IAAI2B,WAAW,KAAK7B,WAAW,CAACG,OAAhC,EAAyC;AAC9C2B,MAAAA,cAAc,CAAC9B,WAAW,CAACI,MAAb,CAAd;AACD;AACF,GAND;;AAQA,MAAIwC,WAAW,GAAG,SAASA,WAAT,GAAuB;AACvC,WAAOnC,cAAc,EAArB;AACD,GAFD;;AAIA,MAAIoC,mBAAmB,GAAG,CAAC,GAAG/D,MAAM,CAACgE,WAAX,EAAwB,UAAUC,KAAV,EAAiB;AACjE,QAAIxB,SAAS,CAACU,OAAV,CAAkBe,QAAlB,CAA2BD,KAAK,CAACE,MAAjC,CAAJ,EAA8C;AAC5C,aAAO,IAAP;AACD;;AAED,WAAOL,WAAW,EAAlB,CALiE,CAK3C;AACvB,GANyB,EAMvB,EANuB,CAA1B;AAOA,GAAC,GAAG9D,MAAM,CAACiD,SAAX,EAAsB,YAAY;AAChC,QAAImB,IAAI,GAAG1B,YAAY,CAACS,OAAxB;;AAEA,QAAIJ,WAAW,KAAK,CAApB,EAAuB;AACrBqB,MAAAA,IAAI,CAACC,gBAAL,CAAsB,OAAtB,EAA+BN,mBAA/B;AACD;;AAED,WAAO,YAAY;AACjB,UAAIK,IAAJ,EAAU;AACRA,QAAAA,IAAI,CAACE,mBAAL,CAAyB,OAAzB,EAAkCP,mBAAlC;AACD;AACF,KAJD;AAKD,GAZD,EAYG,CAAChB,WAAD,EAAcgB,mBAAd,CAZH;;AAcA,MAAIQ,gBAAgB,GAAG,SAASA,gBAAT,CAA0BN,KAA1B,EAAiC;AACtDA,IAAAA,KAAK,CAACO,eAAN;;AAEA,QAAI/C,MAAM,IAAIwC,KAAK,CAACQ,OAAN,KAAkBtE,UAAU,CAACuE,UAAvC,IAAqDhC,YAAY,CAACS,OAAb,CAAqBe,QAArB,CAA8BD,KAAK,CAACE,MAApC,CAAzD,EAAsG;AACpGL,MAAAA,WAAW;AACZ;;AAED,QAAIG,KAAK,CAACQ,OAAN,KAAkBtE,UAAU,CAACwE,OAAjC,EAA0C;AACxC,OAAC,GAAGrE,UAAU,CAAC,SAAD,CAAd,EAA2BmC,SAAS,CAACU,OAArC,EAA8Cc,KAA9C;AACD;;AAED,WAAO,IAAP;AACD,GAZD;;AAcA,MAAIW,YAAY,GAAG,CAAC1D,WAAW,CAACC,OAAb,EAAsBD,WAAW,CAACE,MAAlC,EAA0CyD,QAA1C,CAAmD9B,WAAnD,CAAnB;;AAEA,MAAIA,WAAW,KAAK,IAAhB,IAAwBA,WAAW,KAAK7B,WAAW,CAACI,MAAxD,EAAgE;AAC9D,WAAO,aAAa,CAAC,GAAGpB,SAAS,CAAC4E,YAAd,GAA6B,aAAa9E,MAAM,CAAC,SAAD,CAAN,CAAkB+E,aAAlB,CAAgCvE,SAAS,CAAC,SAAD,CAAzC,EAAsD;AAClHgB,MAAAA,EAAE,EAAEA,EAD8G;AAElHwD,MAAAA,IAAI,EAAE,cAF4G;AAGlHC,MAAAA,GAAG,EAAEvC,YAH6G;AAIlHwC,MAAAA,SAAS,EAAEX;AAJuG,KAAtD,EAK3D,aAAavE,MAAM,CAAC,SAAD,CAAN,CAAkB+E,aAAlB,CAAgCtE,UAAU,CAAC,SAAD,CAA1C,EAAuD;AACrEuE,MAAAA,IAAI,EAAE,QAD+D;AAErEG,MAAAA,QAAQ,EAAE,CAAC,CAF0D;AAGrE,yBAAmB/C,QAHkD;AAIrE,oBAAc,IAJuD;AAKrE,qBAAe,CAACwC,YALqD;AAMrE,0BAAoBtC,SANiD;AAOrEJ,MAAAA,SAAS,EAAEA,SAP0D;AAQrET,MAAAA,MAAM,EAAEmD,YAR6D;AASrEzC,MAAAA,KAAK,EAAEA,KAT8D;AAUrEJ,MAAAA,IAAI,EAAEA,IAV+D;AAWrEC,MAAAA,SAAS,EAAE,CAAC,GAAGf,aAAa,CAAC,SAAD,CAAjB,EAA8Be,SAA9B,EAAyC,MAAzC,CAX0D;AAYrEiD,MAAAA,GAAG,EAAExC,SAZgE;AAarE2C,MAAAA,cAAc,EAAEvB;AAbqD,KAAvD,EAcb,aAAa7D,MAAM,CAAC,SAAD,CAAN,CAAkB+E,aAAlB,CAAgCjE,OAAO,CAAC,SAAD,CAAvC,EAAoD;AAClEU,MAAAA,EAAE,EAAEY,QAD8D;AAElEiD,MAAAA,OAAO,EAAExD;AAFyD,KAApD,CAdA,EAiBZ,aAAa7B,MAAM,CAAC,SAAD,CAAN,CAAkB+E,aAAlB,CAAgCxE,SAAS,CAAC,SAAD,CAAzC,EAAsD;AACrE+E,MAAAA,MAAM,EAAE,CAAC5D;AAD4D,KAAtD,EAEd,aAAa1B,MAAM,CAAC,SAAD,CAAN,CAAkB+E,aAAlB,CAAgCpE,YAAY,CAAC,SAAD,CAA5C,EAAyD;AACvEa,MAAAA,EAAE,EAAE,qBADmE;AAEvE+D,MAAAA,IAAI,EAAE,aAAavF,MAAM,CAAC,SAAD,CAAN,CAAkB+E,aAAlB,CAAgChE,UAAU,CAAC,SAAD,CAA1C,EAAuD,IAAvD,CAFoD;AAGvEyE,MAAAA,KAAK,EAAE,MAHgE;AAIvEC,MAAAA,OAAO,EAAE3B;AAJ8D,KAAzD,CAFC,CAjBD,EAwBX,aAAa9D,MAAM,CAAC,SAAD,CAAN,CAAkB+E,aAAlB,CAAgCrE,QAAQ,CAAC,SAAD,CAAxC,EAAqD;AACrEc,MAAAA,EAAE,EAAEc,SADiE;AAErE2C,MAAAA,GAAG,EAAEtC;AAFgE,KAArD,EAGfV,QAHe,CAxBF,EA2BF,aAAajC,MAAM,CAAC,SAAD,CAAN,CAAkB+E,aAAlB,CAAgCxE,SAAS,CAAC,SAAD,CAAzC,EAAsD;AAC/E+E,MAAAA,MAAM,EAAExD;AADuE,KAAtD,EAExB,aAAa9B,MAAM,CAAC,SAAD,CAAN,CAAkB+E,aAAlB,CAAgCnE,QAAQ,CAAC,SAAD,CAAxC,EAAqD,IAArD,CAFW,EAEiD,aAAaZ,MAAM,CAAC,SAAD,CAAN,CAAkB+E,aAAlB,CAAgClE,OAAO,CAAC,SAAD,CAAvC,EAAoD,IAApD,EAA0DiB,MAA1D,CAF9D,CA3BX,CAL8C,CAA1C,EAkC2IwB,QAAQ,CAACoC,IAlCpJ,CAApB;AAmCD;;AAED,SAAO,aAAa1F,MAAM,CAAC,SAAD,CAAN,CAAkB+E,aAAlB,CAAgC/E,MAAM,CAAC,SAAD,CAAN,CAAkB2F,QAAlD,EAA4D,IAA5D,CAApB;AACD;;AAED7F,MAAM,CAAC8F,SAAP,GAAmB;AACjB;AACF;AACE/D,EAAAA,MAAM,EAAE5B,UAAU,CAAC,SAAD,CAAV,CAAsB4F,SAAtB,CAAgC,CAAC5F,UAAU,CAAC,SAAD,CAAV,CAAsB6F,MAAvB,EAA+B7F,UAAU,CAAC,SAAD,CAAV,CAAsBmE,IAArD,CAAhC,CAHS;;AAKjB;AACF;AACErC,EAAAA,IAAI,EAAE9B,UAAU,CAAC,SAAD,CAAV,CAAsB8F,KAAtB,CAA4B,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,EAA6B,MAA7B,CAA5B,CAPW;;AASjB;AACF;AACEjE,EAAAA,MAAM,EAAE7B,UAAU,CAAC,SAAD,CAAV,CAAsBmE,IAXb;;AAajB;AACA3C,EAAAA,MAAM,EAAExB,UAAU,CAAC,SAAD,CAAV,CAAsB+F,IAdb;;AAgBjB;AACA9D,EAAAA,SAAS,EAAEjC,UAAU,CAAC,SAAD,CAAV,CAAsB6F,MAjBhB;;AAmBjB;AACA3D,EAAAA,KAAK,EAAElC,UAAU,CAAC,SAAD,CAAV,CAAsBgG,MApBZ;;AAsBjB;AACF;AACEtE,EAAAA,cAAc,EAAE1B,UAAU,CAAC,SAAD,CAAV,CAAsBiG,IAxBrB;;AA0BjB;AACF;AACEtE,EAAAA,QAAQ,EAAE3B,UAAU,CAAC,SAAD,CAAV,CAAsBiG,IA5Bf;;AA8BjB;AACA1E,EAAAA,EAAE,EAAEvB,UAAU,CAAC,SAAD,CAAV,CAAsB6F,MA/BT;;AAiCjB;AACF;AACA;AACA;AACE7D,EAAAA,QAAQ,EAAEhC,UAAU,CAAC,SAAD,CAAV,CAAsBmE,IArCf;;AAuCjB;AACA1C,EAAAA,eAAe,EAAEzB,UAAU,CAAC,SAAD,CAAV,CAAsB+F,IAxCtB;;AA0CjB;AACAhE,EAAAA,SAAS,EAAE/B,UAAU,CAAC,SAAD,CAAV,CAAsB8F,KAAtB,CAA4B,CAAC,MAAD,EAAS,OAAT,CAA5B;AA3CM,CAAnB;AA6CAjG,MAAM,CAACqG,YAAP,GAAsB;AACpB1E,EAAAA,MAAM,EAAE,KADY;AAEpBI,EAAAA,MAAM,EAAE,IAFY;AAGpBE,EAAAA,IAAI,EAAE,OAHc;AAIpBD,EAAAA,MAAM,EAAE,IAJY;AAKpBI,EAAAA,SAAS,EAAEkE,SALS;AAMpBjE,EAAAA,KAAK,EAAEiE,SANa;AAOpBnE,EAAAA,QAAQ,EAAE,IAPU;AAQpBT,EAAAA,EAAE,EAAE4E,SARgB;AASpBzE,EAAAA,cAAc,EAAE,SAASA,cAAT,GAA0B,CAAE,CATxB;AAUpBC,EAAAA,QAAQ,EAAE,SAASA,QAAT,GAAoB,CAAE,CAVZ;AAWpBF,EAAAA,eAAe,EAAE,KAXG;AAYpBM,EAAAA,SAAS,EAAE;AAZS,CAAtB","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = Drawer;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _constants = require(\"../../libs/constants\");\n\nvar _scrollController = require(\"../../libs/scrollController\");\n\nvar _counterManager = _interopRequireDefault(require(\"../../libs/counterManager\"));\n\nvar _manageTab = _interopRequireDefault(require(\"../../libs/manageTab\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _backDrop = _interopRequireDefault(require(\"./styled/backDrop\"));\n\nvar _container = _interopRequireDefault(require(\"./styled/container\"));\n\nvar _content = _interopRequireDefault(require(\"./styled/content\"));\n\nvar _closeButton = _interopRequireDefault(require(\"./styled/closeButton\"));\n\nvar _divider = _interopRequireDefault(require(\"./styled/divider\"));\n\nvar _footer = _interopRequireDefault(require(\"./styled/footer\"));\n\nvar _header = _interopRequireDefault(require(\"./header\"));\n\nvar _closeIcon = _interopRequireDefault(require(\"./closeIcon\"));\n\nvar _hooks = require(\"../../libs/hooks\");\n\nvar _getSlideFrom = _interopRequireDefault(require(\"./helpers/getSlideFrom\"));\n\nvar DrawerState = {\n  OPENING: 0,\n  OPENED: 1,\n  CLOSING: 2,\n  CLOSED: 3\n};\n/**\n * Drawers are surfaces containing supplementary content on your app.\n * @category Layout\n * */\n\nfunction Drawer(props) {\n  var id = props.id,\n      isOpen = props.isOpen,\n      hideCloseButton = props.hideCloseButton,\n      onRequestClose = props.onRequestClose,\n      onOpened = props.onOpened,\n      header = props.header,\n      footer = props.footer,\n      size = props.size,\n      slideFrom = props.slideFrom,\n      children = props.children,\n      className = props.className,\n      style = props.style;\n  var headerId = (0, _hooks.useUniqueIdentifier)('drawer-header');\n  var contentId = (0, _hooks.useUniqueIdentifier)('drawer-content');\n  var triggerRef = (0, _react.useRef)(null);\n  var drawerRef = (0, _react.useRef)(null);\n  var containerRef = (0, _react.useRef)(null);\n  var contentRef = (0, _react.useRef)(null);\n\n  var _useState = (0, _react.useState)(isOpen ? DrawerState.OPENED : DrawerState.CLOSED),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      drawerState = _useState2[0],\n      setDrawerState = _useState2[1];\n\n  (0, _react.useEffect)(function () {\n    var contentElement = contentRef.current;\n\n    if (isOpen) {\n      _counterManager[\"default\"].increment();\n\n      (0, _scrollController.disableBodyScroll)(contentElement);\n      triggerRef.current = document.activeElement;\n      setDrawerState(DrawerState.OPENING);\n    }\n\n    return function () {\n      if (isOpen) {\n        _counterManager[\"default\"].decrement();\n\n        if (triggerRef.current) triggerRef.current.focus();\n\n        if (!_counterManager[\"default\"].hasModalsOpen()) {\n          (0, _scrollController.enableBodyScroll)(contentElement);\n        }\n\n        (0, _scrollController.clearAllBodyScrollLocks)();\n        setDrawerState(DrawerState.CLOSING);\n      }\n    };\n  }, [isOpen]);\n  (0, _react.useEffect)(function () {\n    if (isOpen && drawerState === DrawerState.OPENED) {\n      drawerRef.current.focus();\n      onOpened();\n    }\n  }, [drawerState, isOpen, onOpened]);\n\n  var onSlideEnd = function onSlideEnd() {\n    if (drawerState === DrawerState.OPENING) {\n      setDrawerState(DrawerState.OPENED);\n    } else if (drawerState === DrawerState.CLOSING) {\n      setDrawerState(DrawerState.CLOSED);\n    }\n  };\n\n  var closeDrawer = function closeDrawer() {\n    return onRequestClose();\n  };\n\n  var handleBackDropClick = (0, _react.useCallback)(function (event) {\n    if (drawerRef.current.contains(event.target)) {\n      return null;\n    }\n\n    return closeDrawer(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  (0, _react.useEffect)(function () {\n    var node = containerRef.current;\n\n    if (drawerState === 1) {\n      node.addEventListener('click', handleBackDropClick);\n    }\n\n    return function () {\n      if (node) {\n        node.removeEventListener('click', handleBackDropClick);\n      }\n    };\n  }, [drawerState, handleBackDropClick]);\n\n  var handleKeyPressed = function handleKeyPressed(event) {\n    event.stopPropagation();\n\n    if (isOpen && event.keyCode === _constants.ESCAPE_KEY && containerRef.current.contains(event.target)) {\n      closeDrawer();\n    }\n\n    if (event.keyCode === _constants.TAB_KEY) {\n      (0, _manageTab[\"default\"])(drawerRef.current, event);\n    }\n\n    return null;\n  };\n\n  var drawerIsOpen = [DrawerState.OPENING, DrawerState.OPENED].includes(drawerState);\n\n  if (drawerState !== null && drawerState !== DrawerState.CLOSED) {\n    return /*#__PURE__*/(0, _reactDom.createPortal)( /*#__PURE__*/_react[\"default\"].createElement(_backDrop[\"default\"], {\n      id: id,\n      role: \"presentation\",\n      ref: containerRef,\n      onKeyDown: handleKeyPressed\n    }, /*#__PURE__*/_react[\"default\"].createElement(_container[\"default\"], {\n      role: \"dialog\",\n      tabIndex: -1,\n      \"aria-labelledby\": headerId,\n      \"aria-modal\": true,\n      \"aria-hidden\": !drawerIsOpen,\n      \"aria-describedby\": contentId,\n      className: className,\n      isOpen: drawerIsOpen,\n      style: style,\n      size: size,\n      slideFrom: (0, _getSlideFrom[\"default\"])(slideFrom, 'left'),\n      ref: drawerRef,\n      onAnimationEnd: onSlideEnd\n    }, /*#__PURE__*/_react[\"default\"].createElement(_header[\"default\"], {\n      id: headerId,\n      content: header\n    }), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n      isTrue: !hideCloseButton\n    }, /*#__PURE__*/_react[\"default\"].createElement(_closeButton[\"default\"], {\n      id: \"drawer-close-button\",\n      icon: /*#__PURE__*/_react[\"default\"].createElement(_closeIcon[\"default\"], null),\n      title: \"Hide\",\n      onClick: closeDrawer\n    })), /*#__PURE__*/_react[\"default\"].createElement(_content[\"default\"], {\n      id: contentId,\n      ref: contentRef\n    }, children), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n      isTrue: footer\n    }, /*#__PURE__*/_react[\"default\"].createElement(_divider[\"default\"], null), /*#__PURE__*/_react[\"default\"].createElement(_footer[\"default\"], null, footer)))), document.body);\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null);\n}\n\nDrawer.propTypes = {\n  /** The header can include text or another component,\n   * and is displayed at the top of the component. */\n  header: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** The size of the drawer. Valid values are small, medium, large and full.\n   * This value defaults to small. */\n  size: _propTypes[\"default\"].oneOf(['small', 'medium', 'large', 'full']),\n\n  /** The footer can include text or another component\n   * and is displayed at the bottom of the component. */\n  footer: _propTypes[\"default\"].node,\n\n  /** Controls whether the Drawer is opened or not. If true, the drawer is opened. */\n  isOpen: _propTypes[\"default\"].bool,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /** The action triggered when the component requested to close\n   * (e.g click hide button, press esc key or click outside the drawer). */\n  onRequestClose: _propTypes[\"default\"].func,\n\n  /** A callback triggered when the drawer is opened. This is usefull for example to set focus\n   * to an element inside the drawer's content after it is opened. */\n  onOpened: _propTypes[\"default\"].func,\n\n  /** The id of the outer element. */\n  id: _propTypes[\"default\"].string,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  children: _propTypes[\"default\"].node,\n\n  /** If true, hide the close button in the drawer. */\n  hideCloseButton: _propTypes[\"default\"].bool,\n\n  /** The position from where the drawer is opened. */\n  slideFrom: _propTypes[\"default\"].oneOf(['left', 'right'])\n};\nDrawer.defaultProps = {\n  isOpen: false,\n  header: null,\n  size: 'small',\n  footer: null,\n  className: undefined,\n  style: undefined,\n  children: null,\n  id: undefined,\n  onRequestClose: function onRequestClose() {},\n  onOpened: function onOpened() {},\n  hideCloseButton: false,\n  slideFrom: 'left'\n};"]},"metadata":{},"sourceType":"script"}