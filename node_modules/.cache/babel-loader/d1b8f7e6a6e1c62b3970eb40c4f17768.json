{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.insertChildOrderly = insertChildOrderly;\nexports.findItemByKey = findItemByKey;\nexports.findItemIndex = findItemIndex;\nexports.getChildMenuItemNodes = getChildMenuItemNodes;\nexports.isPrintableCharacter = isPrintableCharacter;\nexports.resolvePosition = resolvePosition;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _toArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toArray\"));\n\nvar _InternalOverlay = _interopRequireDefault(require(\"../InternalOverlay\"));\n\nvar DEFAULT_MARGIN = 5;\n\nfunction getRefIndex(nodes, ref) {\n  return nodes.indexOf(ref);\n}\n\nfunction sortChildren(childrenRefs, nodes) {\n  var _childrenRefs = (0, _toArray2[\"default\"])(childrenRefs),\n      newChildrenRefs = _childrenRefs.slice(0);\n\n  newChildrenRefs.sort(function (refA, refB) {\n    return getRefIndex(nodes, refA) - getRefIndex(nodes, refB);\n  });\n  return newChildrenRefs;\n}\n\nfunction insertChildOrderly(childrenRefs, childRef, nodes) {\n  var newChildrenRefs = childrenRefs.concat([childRef]);\n  var sortedChildren = sortChildren(newChildrenRefs, nodes);\n  return sortedChildren;\n}\n\nfunction findItemByKey(key, childrenRefs, fromIndex) {\n  var head = childrenRefs.slice(0, fromIndex);\n  var tail = childrenRefs.slice(fromIndex + 1);\n  return [].concat((0, _toConsumableArray2[\"default\"])(tail), (0, _toConsumableArray2[\"default\"])(head)).find(function (child) {\n    return child.innerText.toLowerCase().indexOf(key.toLowerCase()) === 0;\n  });\n}\n\nfunction findItemIndex(childrenRefs, item) {\n  return childrenRefs.findIndex(function (child) {\n    return child === item;\n  });\n}\n\nfunction getChildMenuItemNodes(ref) {\n  if (ref) {\n    return ref.querySelectorAll('[role=\"menuitem\"]');\n  }\n\n  return [];\n}\n\nfunction isPrintableCharacter(str) {\n  if (typeof str !== 'string') return false;\n  return str.length === 1 && /\\S/.test(str);\n}\n\nfunction getDesiredPosition(options, alignment, margin) {\n  var _options$trigger = options.trigger,\n      leftUpAnchor = _options$trigger.leftUpAnchor,\n      leftBottomAnchor = _options$trigger.leftBottomAnchor,\n      rightUpAnchor = _options$trigger.rightUpAnchor,\n      rightBottomAnchor = _options$trigger.rightBottomAnchor,\n      triggerWidth = _options$trigger.width,\n      _options$content = options.content,\n      contentWidth = _options$content.width,\n      contentHeight = _options$content.height;\n\n  if (alignment === 'right') {\n    return {\n      left: rightBottomAnchor.x - contentWidth,\n      top: rightBottomAnchor.y + margin\n    };\n  }\n\n  if (alignment === 'bottom') {\n    return {\n      left: leftUpAnchor.x + (triggerWidth - contentWidth) / 2,\n      top: leftUpAnchor.y - contentHeight - margin\n    };\n  }\n\n  if (alignment === 'center') {\n    return {\n      left: leftBottomAnchor.x + (triggerWidth - contentWidth) / 2,\n      top: leftBottomAnchor.y + margin\n    };\n  }\n\n  if (alignment === 'bottom-right') {\n    return {\n      left: rightUpAnchor.x - contentWidth,\n      top: leftUpAnchor.y - contentHeight - margin\n    };\n  }\n\n  if (alignment === 'bottom-left') {\n    return {\n      left: leftUpAnchor.x,\n      top: leftUpAnchor.y - contentHeight - margin\n    };\n  }\n\n  return {\n    left: leftBottomAnchor.x,\n    top: leftBottomAnchor.y + margin\n  };\n}\n\nfunction resolvePosition(options, alignment) {\n  var defaultPosition = _InternalOverlay[\"default\"].defaultPositionResolver(options);\n\n  var desiredPosition = getDesiredPosition(options, alignment, DEFAULT_MARGIN);\n  var _options$viewport = options.viewport,\n      viewportWidth = _options$viewport.width,\n      viewportHeight = _options$viewport.height,\n      _options$content2 = options.content,\n      contentWidth = _options$content2.width,\n      contentHeight = _options$content2.height;\n\n  if (viewportWidth - (desiredPosition.left + contentWidth) >= 0 && viewportHeight - (desiredPosition.top + contentHeight) >= 0) {\n    return desiredPosition;\n  }\n\n  return defaultPosition;\n}","map":{"version":3,"sources":["D:/PorzotokFrontend/node_modules/react-rainbow-components/components/PrimitiveMenu/utils.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","insertChildOrderly","findItemByKey","findItemIndex","getChildMenuItemNodes","isPrintableCharacter","resolvePosition","_toConsumableArray2","_toArray2","_InternalOverlay","DEFAULT_MARGIN","getRefIndex","nodes","ref","indexOf","sortChildren","childrenRefs","_childrenRefs","newChildrenRefs","slice","sort","refA","refB","childRef","concat","sortedChildren","key","fromIndex","head","tail","find","child","innerText","toLowerCase","item","findIndex","querySelectorAll","str","length","test","getDesiredPosition","options","alignment","margin","_options$trigger","trigger","leftUpAnchor","leftBottomAnchor","rightUpAnchor","rightBottomAnchor","triggerWidth","width","_options$content","content","contentWidth","contentHeight","height","left","x","top","y","defaultPosition","defaultPositionResolver","desiredPosition","_options$viewport","viewport","viewportWidth","viewportHeight","_options$content2"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.insertChildOrderly = insertChildOrderly;\nexports.findItemByKey = findItemByKey;\nexports.findItemIndex = findItemIndex;\nexports.getChildMenuItemNodes = getChildMenuItemNodes;\nexports.isPrintableCharacter = isPrintableCharacter;\nexports.resolvePosition = resolvePosition;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _toArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toArray\"));\n\nvar _InternalOverlay = _interopRequireDefault(require(\"../InternalOverlay\"));\n\nvar DEFAULT_MARGIN = 5;\n\nfunction getRefIndex(nodes, ref) {\n  return nodes.indexOf(ref);\n}\n\nfunction sortChildren(childrenRefs, nodes) {\n  var _childrenRefs = (0, _toArray2[\"default\"])(childrenRefs),\n      newChildrenRefs = _childrenRefs.slice(0);\n\n  newChildrenRefs.sort(function (refA, refB) {\n    return getRefIndex(nodes, refA) - getRefIndex(nodes, refB);\n  });\n  return newChildrenRefs;\n}\n\nfunction insertChildOrderly(childrenRefs, childRef, nodes) {\n  var newChildrenRefs = childrenRefs.concat([childRef]);\n  var sortedChildren = sortChildren(newChildrenRefs, nodes);\n  return sortedChildren;\n}\n\nfunction findItemByKey(key, childrenRefs, fromIndex) {\n  var head = childrenRefs.slice(0, fromIndex);\n  var tail = childrenRefs.slice(fromIndex + 1);\n  return [].concat((0, _toConsumableArray2[\"default\"])(tail), (0, _toConsumableArray2[\"default\"])(head)).find(function (child) {\n    return child.innerText.toLowerCase().indexOf(key.toLowerCase()) === 0;\n  });\n}\n\nfunction findItemIndex(childrenRefs, item) {\n  return childrenRefs.findIndex(function (child) {\n    return child === item;\n  });\n}\n\nfunction getChildMenuItemNodes(ref) {\n  if (ref) {\n    return ref.querySelectorAll('[role=\"menuitem\"]');\n  }\n\n  return [];\n}\n\nfunction isPrintableCharacter(str) {\n  if (typeof str !== 'string') return false;\n  return str.length === 1 && /\\S/.test(str);\n}\n\nfunction getDesiredPosition(options, alignment, margin) {\n  var _options$trigger = options.trigger,\n      leftUpAnchor = _options$trigger.leftUpAnchor,\n      leftBottomAnchor = _options$trigger.leftBottomAnchor,\n      rightUpAnchor = _options$trigger.rightUpAnchor,\n      rightBottomAnchor = _options$trigger.rightBottomAnchor,\n      triggerWidth = _options$trigger.width,\n      _options$content = options.content,\n      contentWidth = _options$content.width,\n      contentHeight = _options$content.height;\n\n  if (alignment === 'right') {\n    return {\n      left: rightBottomAnchor.x - contentWidth,\n      top: rightBottomAnchor.y + margin\n    };\n  }\n\n  if (alignment === 'bottom') {\n    return {\n      left: leftUpAnchor.x + (triggerWidth - contentWidth) / 2,\n      top: leftUpAnchor.y - contentHeight - margin\n    };\n  }\n\n  if (alignment === 'center') {\n    return {\n      left: leftBottomAnchor.x + (triggerWidth - contentWidth) / 2,\n      top: leftBottomAnchor.y + margin\n    };\n  }\n\n  if (alignment === 'bottom-right') {\n    return {\n      left: rightUpAnchor.x - contentWidth,\n      top: leftUpAnchor.y - contentHeight - margin\n    };\n  }\n\n  if (alignment === 'bottom-left') {\n    return {\n      left: leftUpAnchor.x,\n      top: leftUpAnchor.y - contentHeight - margin\n    };\n  }\n\n  return {\n    left: leftBottomAnchor.x,\n    top: leftBottomAnchor.y + margin\n  };\n}\n\nfunction resolvePosition(options, alignment) {\n  var defaultPosition = _InternalOverlay[\"default\"].defaultPositionResolver(options);\n\n  var desiredPosition = getDesiredPosition(options, alignment, DEFAULT_MARGIN);\n  var _options$viewport = options.viewport,\n      viewportWidth = _options$viewport.width,\n      viewportHeight = _options$viewport.height,\n      _options$content2 = options.content,\n      contentWidth = _options$content2.width,\n      contentHeight = _options$content2.height;\n\n  if (viewportWidth - (desiredPosition.left + contentWidth) >= 0 && viewportHeight - (desiredPosition.top + contentHeight) >= 0) {\n    return desiredPosition;\n  }\n\n  return defaultPosition;\n}"]},"metadata":{},"sourceType":"script"}