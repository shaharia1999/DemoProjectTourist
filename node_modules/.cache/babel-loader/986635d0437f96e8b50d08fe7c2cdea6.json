{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = HelpText;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _hooks = require(\"@rainbow-modules/hooks\");\n\nvar _hooks2 = require(\"../../libs/hooks\");\n\nvar _InternalOverlay = _interopRequireDefault(require(\"../InternalOverlay\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _AssistiveText = _interopRequireDefault(require(\"../AssistiveText\"));\n\nvar _constants = require(\"../../libs/constants\");\n\nvar _styled = require(\"./styled\");\n\nvar _icons = require(\"./icons\");\n\nvar iconMap = {\n  question: _icons.QuestionIcon,\n  info: _icons.InfoIcon,\n  error: _icons.ErrorIcon,\n  warning: _icons.WarningIcon\n};\nvar inverseIconMap = {\n  question: /*#__PURE__*/_react[\"default\"].createElement(_icons.QuestionInverseIcon, null),\n  info: /*#__PURE__*/_react[\"default\"].createElement(_icons.InfoInverseIcon, null),\n  error: /*#__PURE__*/_react[\"default\"].createElement(_icons.ErrorInverseIcon, null),\n  warning: /*#__PURE__*/_react[\"default\"].createElement(_icons.WarningInverseIcon, null)\n};\n/**\n * HelpText is a popup that displays information related to an element.\n */\n\nfunction HelpText(props) {\n  var id = props.id,\n      title = props.title,\n      text = props.text,\n      variant = props.variant,\n      tabIndex = props.tabIndex,\n      className = props.className,\n      style = props.style;\n  var triggerRef = (0, _react.useRef)();\n  var helpTextId = (0, _hooks2.useUniqueIdentifier)('help-text');\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      isFocused = _useState2[0],\n      setIsFocused = _useState2[1];\n\n  var isHoverTooltip = (0, _react.useRef)(false);\n  var isClickTooltip = (0, _react.useRef)(false);\n\n  var _useDisclosure = (0, _hooks2.useDisclosure)(false),\n      isOpen = _useDisclosure.isOpen,\n      openOverlay = _useDisclosure.open,\n      closeOverlay = _useDisclosure.close;\n\n  (0, _react.useEffect)(function () {\n    if (isFocused) {\n      openOverlay();\n    } else {\n      closeOverlay();\n    }\n  }, [closeOverlay, isFocused, openOverlay]);\n  (0, _hooks2.useWindowResize)(function () {\n    return closeOverlay();\n  }, isOpen);\n  (0, _hooks.useWindowScrolling)(closeOverlay, isOpen);\n\n  var handleBlur = function handleBlur() {\n    if (!isClickTooltip.current) {\n      setIsFocused(false);\n    }\n  };\n\n  var handleButtonMouseLeave = function handleButtonMouseLeave() {\n    if (!isFocused) {\n      setTimeout(function () {\n        if (!isHoverTooltip.current) closeOverlay();\n      }, 50);\n    }\n  };\n\n  var handleTooltipMouseDown = function handleTooltipMouseDown() {\n    isClickTooltip.current = true;\n  };\n\n  var handleTooltipMouseUp = function handleTooltipMouseUp() {\n    isClickTooltip.current = false;\n    setTimeout(function () {\n      return triggerRef.current.focus();\n    });\n  };\n\n  var handleTooltipMouseEnter = function handleTooltipMouseEnter() {\n    isHoverTooltip.current = true;\n  };\n\n  var handleTooltipMouseLeave = function handleTooltipMouseLeave() {\n    isHoverTooltip.current = false;\n\n    if (!isFocused) {\n      closeOverlay();\n    }\n  };\n\n  var handleKeyPressed = function handleKeyPressed(event) {\n    if (event.keyCode === _constants.ESCAPE_KEY) {\n      event.preventDefault();\n      closeOverlay();\n    }\n  };\n\n  var Icon = iconMap[variant] || iconMap.info;\n  var inverseIcon = inverseIconMap[variant] || inverseIconMap.info;\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledButton, {\n    id: id,\n    className: className,\n    style: style,\n    ref: triggerRef,\n    onMouseEnter: openOverlay,\n    onMouseLeave: handleButtonMouseLeave,\n    onFocus: function onFocus() {\n      return setIsFocused(true);\n    },\n    onBlur: handleBlur,\n    onKeyDown: handleKeyPressed,\n    type: \"button\",\n    tabIndex: tabIndex,\n    ariaLabelledby: helpTextId,\n    variant: variant\n  }, /*#__PURE__*/_react[\"default\"].createElement(Icon, {\n    isFocused: isFocused\n  }), /*#__PURE__*/_react[\"default\"].createElement(_AssistiveText[\"default\"], {\n    text: variant\n  })), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: text\n  }, /*#__PURE__*/_react[\"default\"].createElement(_InternalOverlay[\"default\"], {\n    isVisible: isOpen,\n    render: function render() {\n      return /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledTooltip, {\n        id: helpTextId,\n        role: \"tooltip\",\n        onMouseDown: handleTooltipMouseDown,\n        onMouseUp: handleTooltipMouseUp,\n        onMouseEnter: handleTooltipMouseEnter,\n        onMouseLeave: handleTooltipMouseLeave\n      }, /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n        isTrue: title\n      }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledTitle, {\n        variant: variant\n      }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledIconContainer, null, inverseIcon), title)), /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledText, null, text));\n    },\n    triggerElementRef: triggerRef\n  })));\n}\n\nHelpText.propTypes = {\n  /** The id of the outer element. */\n  id: _propTypes[\"default\"].string,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /** Displayed the title of component. */\n  title: _propTypes[\"default\"].string,\n\n  /** Displayed the help message */\n  text: _propTypes[\"default\"].node,\n\n  /** The variant changes the appearance of the button. Accepted variants include question, info, error and warning */\n  variant: _propTypes[\"default\"].oneOf(['question', 'info', 'error', 'warning']),\n\n  /** Specifies the tab order of an element (when the tab button is used for navigating). */\n  tabIndex: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string])\n};\nHelpText.defaultProps = {\n  id: undefined,\n  className: undefined,\n  style: undefined,\n  title: undefined,\n  text: undefined,\n  variant: 'info',\n  tabIndex: undefined\n};","map":{"version":3,"sources":["D:/PorzotokFrontend/node_modules/react-rainbow-components/components/HelpText/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","HelpText","_slicedToArray2","_react","_propTypes","_hooks","_hooks2","_InternalOverlay","_RenderIf","_AssistiveText","_constants","_styled","_icons","iconMap","question","QuestionIcon","info","InfoIcon","error","ErrorIcon","warning","WarningIcon","inverseIconMap","createElement","QuestionInverseIcon","InfoInverseIcon","ErrorInverseIcon","WarningInverseIcon","props","id","title","text","variant","tabIndex","className","style","triggerRef","useRef","helpTextId","useUniqueIdentifier","_useState","useState","_useState2","isFocused","setIsFocused","isHoverTooltip","isClickTooltip","_useDisclosure","useDisclosure","isOpen","openOverlay","open","closeOverlay","close","useEffect","useWindowResize","useWindowScrolling","handleBlur","current","handleButtonMouseLeave","setTimeout","handleTooltipMouseDown","handleTooltipMouseUp","focus","handleTooltipMouseEnter","handleTooltipMouseLeave","handleKeyPressed","event","keyCode","ESCAPE_KEY","preventDefault","Icon","inverseIcon","Fragment","StyledButton","ref","onMouseEnter","onMouseLeave","onFocus","onBlur","onKeyDown","type","ariaLabelledby","isTrue","isVisible","render","StyledTooltip","role","onMouseDown","onMouseUp","StyledTitle","StyledIconContainer","StyledText","triggerElementRef","propTypes","string","object","node","oneOf","oneOfType","number","defaultProps","undefined"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = HelpText;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _hooks = require(\"@rainbow-modules/hooks\");\n\nvar _hooks2 = require(\"../../libs/hooks\");\n\nvar _InternalOverlay = _interopRequireDefault(require(\"../InternalOverlay\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _AssistiveText = _interopRequireDefault(require(\"../AssistiveText\"));\n\nvar _constants = require(\"../../libs/constants\");\n\nvar _styled = require(\"./styled\");\n\nvar _icons = require(\"./icons\");\n\nvar iconMap = {\n  question: _icons.QuestionIcon,\n  info: _icons.InfoIcon,\n  error: _icons.ErrorIcon,\n  warning: _icons.WarningIcon\n};\nvar inverseIconMap = {\n  question: /*#__PURE__*/_react[\"default\"].createElement(_icons.QuestionInverseIcon, null),\n  info: /*#__PURE__*/_react[\"default\"].createElement(_icons.InfoInverseIcon, null),\n  error: /*#__PURE__*/_react[\"default\"].createElement(_icons.ErrorInverseIcon, null),\n  warning: /*#__PURE__*/_react[\"default\"].createElement(_icons.WarningInverseIcon, null)\n};\n/**\n * HelpText is a popup that displays information related to an element.\n */\n\nfunction HelpText(props) {\n  var id = props.id,\n      title = props.title,\n      text = props.text,\n      variant = props.variant,\n      tabIndex = props.tabIndex,\n      className = props.className,\n      style = props.style;\n  var triggerRef = (0, _react.useRef)();\n  var helpTextId = (0, _hooks2.useUniqueIdentifier)('help-text');\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      isFocused = _useState2[0],\n      setIsFocused = _useState2[1];\n\n  var isHoverTooltip = (0, _react.useRef)(false);\n  var isClickTooltip = (0, _react.useRef)(false);\n\n  var _useDisclosure = (0, _hooks2.useDisclosure)(false),\n      isOpen = _useDisclosure.isOpen,\n      openOverlay = _useDisclosure.open,\n      closeOverlay = _useDisclosure.close;\n\n  (0, _react.useEffect)(function () {\n    if (isFocused) {\n      openOverlay();\n    } else {\n      closeOverlay();\n    }\n  }, [closeOverlay, isFocused, openOverlay]);\n  (0, _hooks2.useWindowResize)(function () {\n    return closeOverlay();\n  }, isOpen);\n  (0, _hooks.useWindowScrolling)(closeOverlay, isOpen);\n\n  var handleBlur = function handleBlur() {\n    if (!isClickTooltip.current) {\n      setIsFocused(false);\n    }\n  };\n\n  var handleButtonMouseLeave = function handleButtonMouseLeave() {\n    if (!isFocused) {\n      setTimeout(function () {\n        if (!isHoverTooltip.current) closeOverlay();\n      }, 50);\n    }\n  };\n\n  var handleTooltipMouseDown = function handleTooltipMouseDown() {\n    isClickTooltip.current = true;\n  };\n\n  var handleTooltipMouseUp = function handleTooltipMouseUp() {\n    isClickTooltip.current = false;\n    setTimeout(function () {\n      return triggerRef.current.focus();\n    });\n  };\n\n  var handleTooltipMouseEnter = function handleTooltipMouseEnter() {\n    isHoverTooltip.current = true;\n  };\n\n  var handleTooltipMouseLeave = function handleTooltipMouseLeave() {\n    isHoverTooltip.current = false;\n\n    if (!isFocused) {\n      closeOverlay();\n    }\n  };\n\n  var handleKeyPressed = function handleKeyPressed(event) {\n    if (event.keyCode === _constants.ESCAPE_KEY) {\n      event.preventDefault();\n      closeOverlay();\n    }\n  };\n\n  var Icon = iconMap[variant] || iconMap.info;\n  var inverseIcon = inverseIconMap[variant] || inverseIconMap.info;\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledButton, {\n    id: id,\n    className: className,\n    style: style,\n    ref: triggerRef,\n    onMouseEnter: openOverlay,\n    onMouseLeave: handleButtonMouseLeave,\n    onFocus: function onFocus() {\n      return setIsFocused(true);\n    },\n    onBlur: handleBlur,\n    onKeyDown: handleKeyPressed,\n    type: \"button\",\n    tabIndex: tabIndex,\n    ariaLabelledby: helpTextId,\n    variant: variant\n  }, /*#__PURE__*/_react[\"default\"].createElement(Icon, {\n    isFocused: isFocused\n  }), /*#__PURE__*/_react[\"default\"].createElement(_AssistiveText[\"default\"], {\n    text: variant\n  })), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: text\n  }, /*#__PURE__*/_react[\"default\"].createElement(_InternalOverlay[\"default\"], {\n    isVisible: isOpen,\n    render: function render() {\n      return /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledTooltip, {\n        id: helpTextId,\n        role: \"tooltip\",\n        onMouseDown: handleTooltipMouseDown,\n        onMouseUp: handleTooltipMouseUp,\n        onMouseEnter: handleTooltipMouseEnter,\n        onMouseLeave: handleTooltipMouseLeave\n      }, /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n        isTrue: title\n      }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledTitle, {\n        variant: variant\n      }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledIconContainer, null, inverseIcon), title)), /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledText, null, text));\n    },\n    triggerElementRef: triggerRef\n  })));\n}\n\nHelpText.propTypes = {\n  /** The id of the outer element. */\n  id: _propTypes[\"default\"].string,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /** Displayed the title of component. */\n  title: _propTypes[\"default\"].string,\n\n  /** Displayed the help message */\n  text: _propTypes[\"default\"].node,\n\n  /** The variant changes the appearance of the button. Accepted variants include question, info, error and warning */\n  variant: _propTypes[\"default\"].oneOf(['question', 'info', 'error', 'warning']),\n\n  /** Specifies the tab order of an element (when the tab button is used for navigating). */\n  tabIndex: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string])\n};\nHelpText.defaultProps = {\n  id: undefined,\n  className: undefined,\n  style: undefined,\n  title: undefined,\n  text: undefined,\n  variant: 'info',\n  tabIndex: undefined\n};"]},"metadata":{},"sourceType":"script"}