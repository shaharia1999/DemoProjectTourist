{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _hooks = require(\"../../libs/hooks\");\n\nvar _ContentMetaResolver = _interopRequireDefault(require(\"./ContentMetaResolver\"));\n\nvar _defaultPositionResolver = _interopRequireDefault(require(\"./helpers/defaultPositionResolver\"));\n\nvar _resolveElement = _interopRequireDefault(require(\"./helpers/resolveElement\"));\n\nvar _useDisableScroll = _interopRequireDefault(require(\"./hooks/useDisableScroll\"));\n\nvar _zIndex = require(\"../../styles/zIndex\");\n\nfunction _templateObject() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    position: fixed;\\n    z-index: \", \";\\n    top: \", \"px;\\n    left: \", \"px;\\n    bottom: \", \"px;\\n    \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar Container = _styledComponents[\"default\"].div(_templateObject(), _zIndex.ZINDEX_OVERLAY, function (props) {\n  return props.position && props.position.top;\n}, function (props) {\n  return props.position && props.position.left;\n}, function (props) {\n  return props.position && props.position.bottom;\n}, function (props) {\n  return props.position && props.position.width && \"\\n            width: \".concat(props.position.width, \"px;\\n        \");\n});\n\nvar resolveTriggerMeta = function resolveTriggerMeta(ref) {\n  var element = (0, _resolveElement[\"default\"])(ref);\n\n  if (element instanceof Element) {\n    var _element$getClientRec = element.getClientRects()[0],\n        x = _element$getClientRec.x,\n        y = _element$getClientRec.y,\n        width = _element$getClientRec.width,\n        height = _element$getClientRec.height;\n    return {\n      leftUpAnchor: {\n        x: x,\n        y: y\n      },\n      leftBottomAnchor: {\n        x: x,\n        y: y + height\n      },\n      rightUpAnchor: {\n        x: x + width,\n        y: y\n      },\n      rightBottomAnchor: {\n        x: x + width,\n        y: y + height\n      },\n      width: width,\n      height: height\n    };\n  } // eslint-disable-next-line no-console\n\n\n  console.debug(\"The \\\"triggerElementRef\\\" provided is not resolving to a valid DOM Element.\");\n  return {\n    leftUpAnchor: {\n      x: 0,\n      y: 0\n    },\n    leftBottomAnchor: {\n      x: 0,\n      y: 0\n    },\n    rightUpAnchor: {\n      x: 0,\n      y: 0\n    },\n    rightBottomAnchor: {\n      x: 0,\n      y: 0\n    },\n    width: 0,\n    height: 0\n  };\n};\n\nvar resolveViewportMeta = function resolveViewportMeta() {\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight\n  };\n};\n\nvar resolvePosition = function resolvePosition(opts) {\n  var triggerMeta = opts.triggerMeta,\n      viewportMeta = opts.viewportMeta,\n      contentMeta = opts.contentMeta,\n      positionResolver = opts.positionResolver;\n\n  if (typeof positionResolver === 'function') {\n    var pos = positionResolver({\n      trigger: triggerMeta,\n      viewport: viewportMeta,\n      content: contentMeta\n    });\n\n    if ((0, _typeof2[\"default\"])(pos) === 'object') {\n      return pos;\n    }\n  }\n\n  return (0, _defaultPositionResolver[\"default\"])({\n    trigger: triggerMeta,\n    viewport: viewportMeta,\n    content: contentMeta\n  });\n};\n/**\n * This component implements the positioning of a component (inserted in the DOM at the body level) based on a trigger DOM element. By the way of example, you can think of the use case of a Menu Options, Tooltip, Popup that should be floating on top of all the elements and it should be correctly positioned based on the component/element that triggers the show/open action.\n * @category Internal\n */\n\n\nvar InternalOverlay = function InternalOverlay(props) {\n  var ContentComponent = props.render,\n      isVisible = props.isVisible,\n      triggerElementRef = props.triggerElementRef,\n      positionResolver = props.positionResolver,\n      onOpened = props.onOpened,\n      children = props.children,\n      keepScrollEnabled = props.keepScrollEnabled;\n  var containerRef = (0, _react.useRef)();\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      contentMeta = _useState2[0],\n      updateContentMeta = _useState2[1];\n\n  var shouldOpen = isVisible && contentMeta;\n  (0, _react.useEffect)(function () {\n    if (shouldOpen) {\n      onOpened();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [shouldOpen]);\n  var shouldDisableScroll = shouldOpen && !keepScrollEnabled;\n  (0, _useDisableScroll[\"default\"])(shouldDisableScroll); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  (0, _hooks.useIsomorphicLayoutEffect)(function () {\n    if (contentMeta && containerRef.current) {\n      var _containerRef$current = containerRef.current.getBoundingClientRect(),\n          width = _containerRef$current.width,\n          height = _containerRef$current.height;\n\n      if (width !== contentMeta.width || height !== contentMeta.height) {\n        updateContentMeta({\n          width: width,\n          height: height\n        });\n      }\n    }\n  });\n\n  if (isVisible) {\n    var content = children || /*#__PURE__*/_react[\"default\"].createElement(ContentComponent, null);\n\n    if (contentMeta) {\n      var triggerMeta = resolveTriggerMeta(triggerElementRef);\n      var viewportMeta = resolveViewportMeta();\n      var position = resolvePosition({\n        triggerMeta: triggerMeta,\n        contentMeta: contentMeta,\n        viewportMeta: viewportMeta,\n        positionResolver: positionResolver\n      });\n      return /*#__PURE__*/(0, _reactDom.createPortal)( /*#__PURE__*/_react[\"default\"].createElement(Container, {\n        position: position,\n        ref: containerRef\n      }, content), document.body);\n    }\n\n    return /*#__PURE__*/_react[\"default\"].createElement(_ContentMetaResolver[\"default\"], {\n      component: ContentComponent,\n      onResolved: updateContentMeta\n    }, children);\n  }\n\n  return null;\n};\n\nInternalOverlay.propTypes = {\n  /** Functional component or class that will be rendered when the isVisible prop is true. */\n  render: _propTypes[\"default\"].func,\n\n  /** Controls whether the InternalOverlay is visible or not. If true, the content of the Overlay is shown. */\n  isVisible: _propTypes[\"default\"].bool,\n\n  /** Ref or function that returns a ref to a DOM element, the DOM element resolved by this ref will be used to positioning the component passed when visible. */\n  triggerElementRef: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].object, _propTypes[\"default\"].func]).isRequired,\n\n  /** It could be used to write your own position resolution. The function passed here will receive the necessary data to compute an object with { top, left } CSS position of the component rendered. */\n  positionResolver: _propTypes[\"default\"].func,\n\n  /** A callback triggered when the overlay component is opened. This is useful for example to set focus\n   * to an element after it is opened.\n   */\n  onOpened: _propTypes[\"default\"].func,\n\n  /**\n   *  When true it wont disable scroll on the window when the overlay is open.\n   */\n  keepScrollEnabled: _propTypes[\"default\"].bool,\n\n  /**\n   * @ignore\n   */\n  children: _propTypes[\"default\"].node\n};\nInternalOverlay.defaultProps = {\n  render: function render() {},\n  isVisible: false,\n  positionResolver: undefined,\n  onOpened: function onOpened() {},\n  children: undefined,\n  keepScrollEnabled: false\n};\nInternalOverlay.defaultPositionResolver = _defaultPositionResolver[\"default\"];\nvar _default = InternalOverlay;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["E:/Monirul AWS/PorzotokFrontend/node_modules/react-rainbow-components/components/InternalOverlay/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_slicedToArray2","_typeof2","_taggedTemplateLiteral2","_react","_propTypes","_reactDom","_styledComponents","_hooks","_ContentMetaResolver","_defaultPositionResolver","_resolveElement","_useDisableScroll","_zIndex","_templateObject","data","Container","div","ZINDEX_OVERLAY","props","position","top","left","bottom","width","concat","resolveTriggerMeta","ref","element","Element","_element$getClientRec","getClientRects","x","y","height","leftUpAnchor","leftBottomAnchor","rightUpAnchor","rightBottomAnchor","console","debug","resolveViewportMeta","window","innerWidth","innerHeight","resolvePosition","opts","triggerMeta","viewportMeta","contentMeta","positionResolver","pos","trigger","viewport","content","InternalOverlay","ContentComponent","render","isVisible","triggerElementRef","onOpened","children","keepScrollEnabled","containerRef","useRef","_useState","useState","_useState2","updateContentMeta","shouldOpen","useEffect","shouldDisableScroll","useIsomorphicLayoutEffect","current","_containerRef$current","getBoundingClientRect","createElement","createPortal","document","body","component","onResolved","propTypes","func","bool","oneOfType","object","isRequired","node","defaultProps","undefined","defaultPositionResolver","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _hooks = require(\"../../libs/hooks\");\n\nvar _ContentMetaResolver = _interopRequireDefault(require(\"./ContentMetaResolver\"));\n\nvar _defaultPositionResolver = _interopRequireDefault(require(\"./helpers/defaultPositionResolver\"));\n\nvar _resolveElement = _interopRequireDefault(require(\"./helpers/resolveElement\"));\n\nvar _useDisableScroll = _interopRequireDefault(require(\"./hooks/useDisableScroll\"));\n\nvar _zIndex = require(\"../../styles/zIndex\");\n\nfunction _templateObject() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    position: fixed;\\n    z-index: \", \";\\n    top: \", \"px;\\n    left: \", \"px;\\n    bottom: \", \"px;\\n    \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar Container = _styledComponents[\"default\"].div(_templateObject(), _zIndex.ZINDEX_OVERLAY, function (props) {\n  return props.position && props.position.top;\n}, function (props) {\n  return props.position && props.position.left;\n}, function (props) {\n  return props.position && props.position.bottom;\n}, function (props) {\n  return props.position && props.position.width && \"\\n            width: \".concat(props.position.width, \"px;\\n        \");\n});\n\nvar resolveTriggerMeta = function resolveTriggerMeta(ref) {\n  var element = (0, _resolveElement[\"default\"])(ref);\n\n  if (element instanceof Element) {\n    var _element$getClientRec = element.getClientRects()[0],\n        x = _element$getClientRec.x,\n        y = _element$getClientRec.y,\n        width = _element$getClientRec.width,\n        height = _element$getClientRec.height;\n    return {\n      leftUpAnchor: {\n        x: x,\n        y: y\n      },\n      leftBottomAnchor: {\n        x: x,\n        y: y + height\n      },\n      rightUpAnchor: {\n        x: x + width,\n        y: y\n      },\n      rightBottomAnchor: {\n        x: x + width,\n        y: y + height\n      },\n      width: width,\n      height: height\n    };\n  } // eslint-disable-next-line no-console\n\n\n  console.debug(\"The \\\"triggerElementRef\\\" provided is not resolving to a valid DOM Element.\");\n  return {\n    leftUpAnchor: {\n      x: 0,\n      y: 0\n    },\n    leftBottomAnchor: {\n      x: 0,\n      y: 0\n    },\n    rightUpAnchor: {\n      x: 0,\n      y: 0\n    },\n    rightBottomAnchor: {\n      x: 0,\n      y: 0\n    },\n    width: 0,\n    height: 0\n  };\n};\n\nvar resolveViewportMeta = function resolveViewportMeta() {\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight\n  };\n};\n\nvar resolvePosition = function resolvePosition(opts) {\n  var triggerMeta = opts.triggerMeta,\n      viewportMeta = opts.viewportMeta,\n      contentMeta = opts.contentMeta,\n      positionResolver = opts.positionResolver;\n\n  if (typeof positionResolver === 'function') {\n    var pos = positionResolver({\n      trigger: triggerMeta,\n      viewport: viewportMeta,\n      content: contentMeta\n    });\n\n    if ((0, _typeof2[\"default\"])(pos) === 'object') {\n      return pos;\n    }\n  }\n\n  return (0, _defaultPositionResolver[\"default\"])({\n    trigger: triggerMeta,\n    viewport: viewportMeta,\n    content: contentMeta\n  });\n};\n/**\n * This component implements the positioning of a component (inserted in the DOM at the body level) based on a trigger DOM element. By the way of example, you can think of the use case of a Menu Options, Tooltip, Popup that should be floating on top of all the elements and it should be correctly positioned based on the component/element that triggers the show/open action.\n * @category Internal\n */\n\n\nvar InternalOverlay = function InternalOverlay(props) {\n  var ContentComponent = props.render,\n      isVisible = props.isVisible,\n      triggerElementRef = props.triggerElementRef,\n      positionResolver = props.positionResolver,\n      onOpened = props.onOpened,\n      children = props.children,\n      keepScrollEnabled = props.keepScrollEnabled;\n  var containerRef = (0, _react.useRef)();\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      contentMeta = _useState2[0],\n      updateContentMeta = _useState2[1];\n\n  var shouldOpen = isVisible && contentMeta;\n  (0, _react.useEffect)(function () {\n    if (shouldOpen) {\n      onOpened();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [shouldOpen]);\n  var shouldDisableScroll = shouldOpen && !keepScrollEnabled;\n  (0, _useDisableScroll[\"default\"])(shouldDisableScroll); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  (0, _hooks.useIsomorphicLayoutEffect)(function () {\n    if (contentMeta && containerRef.current) {\n      var _containerRef$current = containerRef.current.getBoundingClientRect(),\n          width = _containerRef$current.width,\n          height = _containerRef$current.height;\n\n      if (width !== contentMeta.width || height !== contentMeta.height) {\n        updateContentMeta({\n          width: width,\n          height: height\n        });\n      }\n    }\n  });\n\n  if (isVisible) {\n    var content = children || /*#__PURE__*/_react[\"default\"].createElement(ContentComponent, null);\n\n    if (contentMeta) {\n      var triggerMeta = resolveTriggerMeta(triggerElementRef);\n      var viewportMeta = resolveViewportMeta();\n      var position = resolvePosition({\n        triggerMeta: triggerMeta,\n        contentMeta: contentMeta,\n        viewportMeta: viewportMeta,\n        positionResolver: positionResolver\n      });\n      return /*#__PURE__*/(0, _reactDom.createPortal)( /*#__PURE__*/_react[\"default\"].createElement(Container, {\n        position: position,\n        ref: containerRef\n      }, content), document.body);\n    }\n\n    return /*#__PURE__*/_react[\"default\"].createElement(_ContentMetaResolver[\"default\"], {\n      component: ContentComponent,\n      onResolved: updateContentMeta\n    }, children);\n  }\n\n  return null;\n};\n\nInternalOverlay.propTypes = {\n  /** Functional component or class that will be rendered when the isVisible prop is true. */\n  render: _propTypes[\"default\"].func,\n\n  /** Controls whether the InternalOverlay is visible or not. If true, the content of the Overlay is shown. */\n  isVisible: _propTypes[\"default\"].bool,\n\n  /** Ref or function that returns a ref to a DOM element, the DOM element resolved by this ref will be used to positioning the component passed when visible. */\n  triggerElementRef: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].object, _propTypes[\"default\"].func]).isRequired,\n\n  /** It could be used to write your own position resolution. The function passed here will receive the necessary data to compute an object with { top, left } CSS position of the component rendered. */\n  positionResolver: _propTypes[\"default\"].func,\n\n  /** A callback triggered when the overlay component is opened. This is useful for example to set focus\n   * to an element after it is opened.\n   */\n  onOpened: _propTypes[\"default\"].func,\n\n  /**\n   *  When true it wont disable scroll on the window when the overlay is open.\n   */\n  keepScrollEnabled: _propTypes[\"default\"].bool,\n\n  /**\n   * @ignore\n   */\n  children: _propTypes[\"default\"].node\n};\nInternalOverlay.defaultProps = {\n  render: function render() {},\n  isVisible: false,\n  positionResolver: undefined,\n  onOpened: function onOpened() {},\n  children: undefined,\n  keepScrollEnabled: false\n};\nInternalOverlay.defaultPositionResolver = _defaultPositionResolver[\"default\"];\nvar _default = InternalOverlay;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}