{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = EditableCell;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _constants = require(\"../../../libs/constants\");\n\nvar _RenderIf = _interopRequireDefault(require(\"../../RenderIf\"));\n\nvar _editableCell = require(\"./styled/editableCell\");\n\nvar _cancel = _interopRequireDefault(require(\"./icons/cancel\"));\n\nfunction EditableCell(props) {\n  var value = props.value,\n      onChange = props.onChange,\n      row = props.row,\n      field = props.field;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      isEditMode = _useState2[0],\n      setIsEditMode = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(value),\n      _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n      internalValue = _useState4[0],\n      setInternalValue = _useState4[1];\n\n  var inputRef = (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    if (isEditMode) {\n      inputRef.current.focus();\n    }\n  }, [isEditMode]);\n\n  var clear = function clear(event) {\n    event.preventDefault();\n    inputRef.current.focus();\n    setInternalValue('');\n  };\n\n  var handleOnChange = function handleOnChange(event) {\n    setInternalValue(event.target.value);\n  };\n\n  var fireOnChange = function fireOnChange() {\n    if (value !== internalValue) {\n      onChange({\n        value: internalValue,\n        row: row\n      });\n    }\n\n    setIsEditMode(false);\n  };\n\n  var handleOnClick = function handleOnClick() {\n    setIsEditMode(true);\n  };\n\n  var handleOnKeyDown = function handleOnKeyDown(event) {\n    if (event.keyCode === _constants.ESCAPE_KEY) {\n      setInternalValue(value);\n      setIsEditMode(false);\n    }\n\n    if (event.keyCode === _constants.ENTER_KEY) {\n      fireOnChange();\n    }\n  };\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: !isEditMode\n  }, /*#__PURE__*/_react[\"default\"].createElement(_editableCell.SpanContainer, {\n    onClick: handleOnClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(_editableCell.StyledSpan, {\n    title: value\n  }, value), /*#__PURE__*/_react[\"default\"].createElement(_editableCell.StyledEditIcon, null))), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: isEditMode\n  }, /*#__PURE__*/_react[\"default\"].createElement(_editableCell.RelativeInputContainer, null, /*#__PURE__*/_react[\"default\"].createElement(_editableCell.StyledInput, {\n    value: internalValue,\n    onChange: handleOnChange,\n    ref: inputRef,\n    \"aria-label\": field,\n    onBlur: fireOnChange,\n    onKeyDown: handleOnKeyDown\n  }), /*#__PURE__*/_react[\"default\"].createElement(_editableCell.StyledButtonIcon, {\n    variant: \"base\",\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_cancel[\"default\"], null),\n    size: \"medium\",\n    onMouseDown: clear,\n    assistiveText: \"Clear\"\n  }))));\n}\n\nEditableCell.propTypes = {\n  value: _propTypes[\"default\"].any,\n  row: _propTypes[\"default\"].object,\n  onChange: _propTypes[\"default\"].func,\n  field: _propTypes[\"default\"].string\n};\nEditableCell.defaultProps = {\n  value: undefined,\n  row: {},\n  onChange: function onChange() {},\n  field: undefined\n};","map":{"version":3,"sources":["F:/PorzotokFrontend/node_modules/react-rainbow-components/components/Table/body/editableCell.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","EditableCell","_slicedToArray2","_react","_propTypes","_constants","_RenderIf","_editableCell","_cancel","props","onChange","row","field","_useState","useState","_useState2","isEditMode","setIsEditMode","_useState3","_useState4","internalValue","setInternalValue","inputRef","useRef","useEffect","current","focus","clear","event","preventDefault","handleOnChange","target","fireOnChange","handleOnClick","handleOnKeyDown","keyCode","ESCAPE_KEY","ENTER_KEY","createElement","Fragment","isTrue","SpanContainer","onClick","StyledSpan","title","StyledEditIcon","RelativeInputContainer","StyledInput","ref","onBlur","onKeyDown","StyledButtonIcon","variant","icon","size","onMouseDown","assistiveText","propTypes","any","object","func","string","defaultProps","undefined"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports[\"default\"] = EditableCell;\r\n\r\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\r\n\r\nvar _react = _interopRequireWildcard(require(\"react\"));\r\n\r\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\r\n\r\nvar _constants = require(\"../../../libs/constants\");\r\n\r\nvar _RenderIf = _interopRequireDefault(require(\"../../RenderIf\"));\r\n\r\nvar _editableCell = require(\"./styled/editableCell\");\r\n\r\nvar _cancel = _interopRequireDefault(require(\"./icons/cancel\"));\r\n\r\nfunction EditableCell(props) {\r\n  var value = props.value,\r\n      onChange = props.onChange,\r\n      row = props.row,\r\n      field = props.field;\r\n\r\n  var _useState = (0, _react.useState)(false),\r\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\r\n      isEditMode = _useState2[0],\r\n      setIsEditMode = _useState2[1];\r\n\r\n  var _useState3 = (0, _react.useState)(value),\r\n      _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\r\n      internalValue = _useState4[0],\r\n      setInternalValue = _useState4[1];\r\n\r\n  var inputRef = (0, _react.useRef)(null);\r\n  (0, _react.useEffect)(function () {\r\n    if (isEditMode) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [isEditMode]);\r\n\r\n  var clear = function clear(event) {\r\n    event.preventDefault();\r\n    inputRef.current.focus();\r\n    setInternalValue('');\r\n  };\r\n\r\n  var handleOnChange = function handleOnChange(event) {\r\n    setInternalValue(event.target.value);\r\n  };\r\n\r\n  var fireOnChange = function fireOnChange() {\r\n    if (value !== internalValue) {\r\n      onChange({\r\n        value: internalValue,\r\n        row: row\r\n      });\r\n    }\r\n\r\n    setIsEditMode(false);\r\n  };\r\n\r\n  var handleOnClick = function handleOnClick() {\r\n    setIsEditMode(true);\r\n  };\r\n\r\n  var handleOnKeyDown = function handleOnKeyDown(event) {\r\n    if (event.keyCode === _constants.ESCAPE_KEY) {\r\n      setInternalValue(value);\r\n      setIsEditMode(false);\r\n    }\r\n\r\n    if (event.keyCode === _constants.ENTER_KEY) {\r\n      fireOnChange();\r\n    }\r\n  };\r\n\r\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\r\n    isTrue: !isEditMode\r\n  }, /*#__PURE__*/_react[\"default\"].createElement(_editableCell.SpanContainer, {\r\n    onClick: handleOnClick\r\n  }, /*#__PURE__*/_react[\"default\"].createElement(_editableCell.StyledSpan, {\r\n    title: value\r\n  }, value), /*#__PURE__*/_react[\"default\"].createElement(_editableCell.StyledEditIcon, null))), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\r\n    isTrue: isEditMode\r\n  }, /*#__PURE__*/_react[\"default\"].createElement(_editableCell.RelativeInputContainer, null, /*#__PURE__*/_react[\"default\"].createElement(_editableCell.StyledInput, {\r\n    value: internalValue,\r\n    onChange: handleOnChange,\r\n    ref: inputRef,\r\n    \"aria-label\": field,\r\n    onBlur: fireOnChange,\r\n    onKeyDown: handleOnKeyDown\r\n  }), /*#__PURE__*/_react[\"default\"].createElement(_editableCell.StyledButtonIcon, {\r\n    variant: \"base\",\r\n    icon: /*#__PURE__*/_react[\"default\"].createElement(_cancel[\"default\"], null),\r\n    size: \"medium\",\r\n    onMouseDown: clear,\r\n    assistiveText: \"Clear\"\r\n  }))));\r\n}\r\n\r\nEditableCell.propTypes = {\r\n  value: _propTypes[\"default\"].any,\r\n  row: _propTypes[\"default\"].object,\r\n  onChange: _propTypes[\"default\"].func,\r\n  field: _propTypes[\"default\"].string\r\n};\r\nEditableCell.defaultProps = {\r\n  value: undefined,\r\n  row: {},\r\n  onChange: function onChange() {},\r\n  field: undefined\r\n};"]},"metadata":{},"sourceType":"script"}