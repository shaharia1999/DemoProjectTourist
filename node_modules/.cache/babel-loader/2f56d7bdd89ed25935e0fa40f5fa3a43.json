{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = MenuContent;\n\nvar _toArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _context = require(\"./context\");\n\nvar _utils = require(\"./utils\");\n\nvar _useArrowKeyNav2 = _interopRequireDefault(require(\"./hooks/useArrowKeyNav\"));\n\nvar _Spinner = _interopRequireDefault(require(\"../Spinner\"));\n\nvar _styled = require(\"./styled\");\n/* eslint-disable react/no-unused-prop-types */\n\n/* eslint-disable react/prop-types */\n\n\nfunction MenuContent(props) {\n  var children = props.children,\n      isLoading = props.isLoading,\n      ariaLabel = props.ariaLabel,\n      onRequestClose = props.onRequestClose;\n  var childrenRefs = (0, _react.useRef)([]);\n  var containerRef = (0, _react.useRef)();\n\n  var _useState = (0, _react.useState)(0),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      childCount = _useState2[0],\n      setChildCount = _useState2[1];\n\n  var _useArrowKeyNav = (0, _useArrowKeyNav2[\"default\"])({\n    childrenRefs: childrenRefs.current,\n    isLoading: isLoading\n  }),\n      focusedChildIndex = _useArrowKeyNav.focusedChildIndex,\n      keyDownHandler = _useArrowKeyNav.handleKeyPress,\n      focusMatchedItem = _useArrowKeyNav.focusMatchedItem,\n      clearFocusedChild = _useArrowKeyNav.clearFocusedChild,\n      focusChild = _useArrowKeyNav.focusChild;\n\n  var privateOnClose = (0, _react.useCallback)(function () {\n    clearFocusedChild();\n    onRequestClose();\n  }, [clearFocusedChild, onRequestClose]);\n  var privateOnHover = (0, _react.useCallback)(function (event, childRef) {\n    return focusMatchedItem(childRef);\n  }, [focusMatchedItem]);\n  var privateRegisterChild = (0, _react.useCallback)(function (childRef) {\n    if (childRef) {\n      var _getChildMenuItemNode = (0, _utils.getChildMenuItemNodes)(containerRef.current),\n          _getChildMenuItemNode2 = (0, _toArray2[\"default\"])(_getChildMenuItemNode),\n          nodes = _getChildMenuItemNode2.slice(0);\n\n      childrenRefs.current = (0, _utils.insertChildOrderly)(childrenRefs.current, childRef, nodes);\n      setChildCount(childrenRefs.current.length);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  var privateUnregisterChild = (0, _react.useCallback)(function (childRef) {\n    if (childRef) {\n      childrenRefs.current = childrenRefs.current.filter(function (child) {\n        return child !== childRef;\n      });\n      setChildCount(childrenRefs.current.length);\n    }\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (!isLoading && childCount > 0) {\n      focusChild(focusedChildIndex || 0);\n    }\n  }, [isLoading, childCount, focusChild, focusedChildIndex]);\n\n  if (isLoading) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_Spinner[\"default\"], {\n      assistiveText: \"loading menu\",\n      isVisible: true,\n      size: \"small\"\n    });\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledContent, {\n    ref: containerRef,\n    role: \"menu\",\n    \"aria-label\": ariaLabel,\n    onKeyDown: keyDownHandler\n  }, /*#__PURE__*/_react[\"default\"].createElement(_context.Provider, {\n    value: {\n      privateOnClose: privateOnClose,\n      privateOnHover: privateOnHover,\n      privateRegisterChild: privateRegisterChild,\n      privateUnregisterChild: privateUnregisterChild\n    }\n  }, children));\n}\n\nMenuContent.propTypes = {\n  className: _propTypes[\"default\"].string,\n  style: _propTypes[\"default\"].object\n};\nMenuContent.defaultProps = {\n  className: '',\n  style: {}\n};","map":{"version":3,"sources":["F:/PorzotokFrontend/node_modules/react-rainbow-components/components/PrimitiveMenu/menuContent.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","MenuContent","_toArray2","_slicedToArray2","_react","_propTypes","_context","_utils","_useArrowKeyNav2","_Spinner","_styled","props","children","isLoading","ariaLabel","onRequestClose","childrenRefs","useRef","containerRef","_useState","useState","_useState2","childCount","setChildCount","_useArrowKeyNav","current","focusedChildIndex","keyDownHandler","handleKeyPress","focusMatchedItem","clearFocusedChild","focusChild","privateOnClose","useCallback","privateOnHover","event","childRef","privateRegisterChild","_getChildMenuItemNode","getChildMenuItemNodes","_getChildMenuItemNode2","nodes","slice","insertChildOrderly","length","privateUnregisterChild","filter","child","useEffect","createElement","assistiveText","isVisible","size","StyledContent","ref","role","onKeyDown","Provider","propTypes","className","string","style","object","defaultProps"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports[\"default\"] = MenuContent;\r\n\r\nvar _toArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toArray\"));\r\n\r\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\r\n\r\nvar _react = _interopRequireWildcard(require(\"react\"));\r\n\r\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\r\n\r\nvar _context = require(\"./context\");\r\n\r\nvar _utils = require(\"./utils\");\r\n\r\nvar _useArrowKeyNav2 = _interopRequireDefault(require(\"./hooks/useArrowKeyNav\"));\r\n\r\nvar _Spinner = _interopRequireDefault(require(\"../Spinner\"));\r\n\r\nvar _styled = require(\"./styled\");\r\n\r\n/* eslint-disable react/no-unused-prop-types */\r\n\r\n/* eslint-disable react/prop-types */\r\nfunction MenuContent(props) {\r\n  var children = props.children,\r\n      isLoading = props.isLoading,\r\n      ariaLabel = props.ariaLabel,\r\n      onRequestClose = props.onRequestClose;\r\n  var childrenRefs = (0, _react.useRef)([]);\r\n  var containerRef = (0, _react.useRef)();\r\n\r\n  var _useState = (0, _react.useState)(0),\r\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\r\n      childCount = _useState2[0],\r\n      setChildCount = _useState2[1];\r\n\r\n  var _useArrowKeyNav = (0, _useArrowKeyNav2[\"default\"])({\r\n    childrenRefs: childrenRefs.current,\r\n    isLoading: isLoading\r\n  }),\r\n      focusedChildIndex = _useArrowKeyNav.focusedChildIndex,\r\n      keyDownHandler = _useArrowKeyNav.handleKeyPress,\r\n      focusMatchedItem = _useArrowKeyNav.focusMatchedItem,\r\n      clearFocusedChild = _useArrowKeyNav.clearFocusedChild,\r\n      focusChild = _useArrowKeyNav.focusChild;\r\n\r\n  var privateOnClose = (0, _react.useCallback)(function () {\r\n    clearFocusedChild();\r\n    onRequestClose();\r\n  }, [clearFocusedChild, onRequestClose]);\r\n  var privateOnHover = (0, _react.useCallback)(function (event, childRef) {\r\n    return focusMatchedItem(childRef);\r\n  }, [focusMatchedItem]);\r\n  var privateRegisterChild = (0, _react.useCallback)(function (childRef) {\r\n    if (childRef) {\r\n      var _getChildMenuItemNode = (0, _utils.getChildMenuItemNodes)(containerRef.current),\r\n          _getChildMenuItemNode2 = (0, _toArray2[\"default\"])(_getChildMenuItemNode),\r\n          nodes = _getChildMenuItemNode2.slice(0);\r\n\r\n      childrenRefs.current = (0, _utils.insertChildOrderly)(childrenRefs.current, childRef, nodes);\r\n      setChildCount(childrenRefs.current.length);\r\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\r\n\r\n  }, []);\r\n  var privateUnregisterChild = (0, _react.useCallback)(function (childRef) {\r\n    if (childRef) {\r\n      childrenRefs.current = childrenRefs.current.filter(function (child) {\r\n        return child !== childRef;\r\n      });\r\n      setChildCount(childrenRefs.current.length);\r\n    }\r\n  }, []);\r\n  (0, _react.useEffect)(function () {\r\n    if (!isLoading && childCount > 0) {\r\n      focusChild(focusedChildIndex || 0);\r\n    }\r\n  }, [isLoading, childCount, focusChild, focusedChildIndex]);\r\n\r\n  if (isLoading) {\r\n    return /*#__PURE__*/_react[\"default\"].createElement(_Spinner[\"default\"], {\r\n      assistiveText: \"loading menu\",\r\n      isVisible: true,\r\n      size: \"small\"\r\n    });\r\n  }\r\n\r\n  return /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledContent, {\r\n    ref: containerRef,\r\n    role: \"menu\",\r\n    \"aria-label\": ariaLabel,\r\n    onKeyDown: keyDownHandler\r\n  }, /*#__PURE__*/_react[\"default\"].createElement(_context.Provider, {\r\n    value: {\r\n      privateOnClose: privateOnClose,\r\n      privateOnHover: privateOnHover,\r\n      privateRegisterChild: privateRegisterChild,\r\n      privateUnregisterChild: privateUnregisterChild\r\n    }\r\n  }, children));\r\n}\r\n\r\nMenuContent.propTypes = {\r\n  className: _propTypes[\"default\"].string,\r\n  style: _propTypes[\"default\"].object\r\n};\r\nMenuContent.defaultProps = {\r\n  className: '',\r\n  style: {}\r\n};"]},"metadata":{},"sourceType":"script"}